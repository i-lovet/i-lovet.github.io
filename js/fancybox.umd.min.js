!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,function(e){"use strict";function fe(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(1<t.childElementCount){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}return!(e=t.firstChild)||e instanceof HTMLElement?e:((n=document.createElement("div")).appendChild(e),n)}let oe,Pe,w,i,ge=e=>"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e),pe=e=>"string"==typeof e,me=e=>e&&null!==e&&e instanceof Element&&"nodeType"in e,n=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;let t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,o=-1!==n.indexOf("hidden"),i=-1!==n.indexOf("visible");return t&&!o&&!i},he=function(e,t){return!e||e===document.body||t&&e===t?null:n(e)?e:he(e.parentElement,t)},ie=(t=!0,n="--f-scrollbar-compensate",o="--f-body-margin",i="hide-scrollbar")=>{let e=document,a=e.body,r=e.documentElement;if(t){if(!a.classList.contains(i)){let e=window.innerWidth-r.getBoundingClientRect().width;e<0&&(e=0),r.style.setProperty(n,e+"px");t=parseFloat(window.getComputedStyle(a).marginRight);t&&a.style.setProperty(o,t+"px"),a.classList.add(i)}}else a.classList.remove(i),a.style.setProperty(o,""),e.documentElement.style.setProperty(n,"")},ve=(o,...t)=>{var n=t.length;for(let e=0;e<n;e++)Object.entries(t[e]||{}).forEach(([e,t])=>{var n=Array.isArray(t)?[]:{};o[e]||Object.assign(o,{[e]:n}),ge(t)?Object.assign(o[e],ve(o[e],t)):Array.isArray(t)?Object.assign(o,{[e]:[...t]}):Object.assign(o,{[e]:t})});return o};function o(){return"undefined"!=typeof window&&window.document&&window.document.createElement}function Ce(e=0,t=0,n=0,o=0,i=0,a=!1){return e=(e-t)/(n-t)*(i-o)+o,a?o<i?ye(o,e,i):ye(i,e,o):e}let ye=function(e=0,t=0,n=0){return Math.max(Math.min(t,n),e)},be=(t,e="")=>{t&&t.classList&&e.split(" ").forEach(e=>{e&&t.classList.add(e)})};function a(e){return ge(e)||Array.isArray(e)}function I(n,o){let e=Object.keys(n),t=Object.keys(o);return e.length===t.length&&e.every(e=>{var t=n[e],e=o[e];return"function"==typeof t?""+t==""+e:a(t)&&a(e)?I(t,e):t===e})}let k=function(e){for(var t of H)t.getState()===O.Running&&t.tick(r?e-r:0);r=e,z=window.requestAnimationFrame(k)},O=((t={})[t.Initializing=0]="Initializing",t[t.Running=1]="Running",t[t.Paused=2]="Paused",t[t.Completed=3]="Completed",t[t.Destroyed=4]="Destroyed",t);(t={})[t.Spring=0]="Spring",t[t.Ease=1]="Ease";var t,A=t;(t={})[t.Loop=0]="Loop",t[t.Reverse=1]="Reverse";let _=t,H=new Set,z=null,r=0;function Ee(){let i=O.Initializing,l=A.Ease,t=0,a=0,r=Ee.Easings.Linear,s=500,d=0,u=0,f=0,g=0,p=1/0,m=.01,h=.01,v=!1,y={},n=null,b={},E={},w={},c=0,x=0,M=_.Loop,L=Ee.Easings.Linear,o=new Map;function S(e,...t){for(var n of o.get(e)||[])n(...t)}function T(e){a=0,e?n=setTimeout(()=>{R()},e):R(),C}function R(){i=O.Running,S("start",b,E)}function P(){var e;return i=O.Completed,w={},S("end",b),i===O.Completed&&(t<c?(t++,M===_.Reverse&&(e={...y},y={...E},E=e),T(x)):t=0),C}let C={getState:function(){return i},easing:function(e){return r=e,l=A.Ease,w={},C},duration:function(e){return s=e,C},spring:function(e={}){l=A.Spring;var{velocity:e,mass:t,tension:n,friction:o,restDelta:i,restSpeed:a,maxSpeed:r,clamp:s}={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0,...e};return d=e,u=t,f=n,g=o,h=i,m=a,p=r,v=s,w={},C},isRunning:function(){return i===O.Running},isSpring:function(){return l===A.Spring},from:function(e){return b={...e},C},to:function(e){return E=e,C},repeat:function(e,t=0,n=_.Loop,o){return c=e,x=t,M=n,L=o||r,C},on:function(e,t){return o.set(e,[...o.get(e)||[],t]),C},off:function(e,t){return o.has(e)&&o.set(e,o.get(e).filter(e=>e!==t)),C},start:function(e){return i=O.Initializing,I(y={...b},E)||(H.add(this),z=z||window.requestAnimationFrame(k),T(e)),C},pause:function(){return n&&(clearTimeout(n),n=null),i===O.Running&&(i=O.Paused,S("pause",b)),C},end:P,tick:function(e){50<e&&(e=50),a+=e;let t=0,n=!1;if(i!==O.Running)return C;if(l===A.Ease){n=1===(t=ye(0,a/s,1));let e=M===_.Reverse?L:r;for(var o in b)b[o]=y[o]+(E[o]-y[o])*e(t)}if(l===A.Spring){let s=.001*e,l=0;for(var c in b){let a=E[c],r=b[c];if("number"==typeof a&&!isNaN(a)&&"number"==typeof r&&!isNaN(r))if(Math.abs(a-r)<=h)b[c]=a,w[c]=0;else{w[c]||("object"==typeof d&&"number"==typeof d[c]?w[c]=d[c]:"number"==typeof d?w[c]=d:w[c]=0);let e=w[c],t=(e=ye(-1*Math.abs(p),e,Math.abs(p)))*u*g,n=Math.abs(a-r)*f,o=(e+=((r>a?-1:1)*n-t)/u*s,r+=e*s,b[c]>a?r<a:r>a),i=Math.abs(e)<m&&Math.abs(a-r)<=h;(i=v&&o?!0:i)?(r=a,e=0):l++,b[c]=r,w[c]=e}}n=!l}e={...E};return S("step",b,y,E,t),n&&i===O.Running&&I(E,e)&&(i=O.Completed,P()),C},getStartValues:function(){return y},getCurrentValues:function(){return b},getCurrentVelocities:function(){return w},getEndValues:function(){return E},destroy:function(){i=O.Destroyed,n&&(clearTimeout(n),n=null),y=b=E={},H.delete(this)}};return C}function V(e){let t=[];for(var n of"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?e.touches:e instanceof MouseEvent&&"mouseup"!==e.type?[e]:[])t.push({x:n.clientX,y:n.clientY,ts:Date.now()});return t}function ae(e){let t=[];for(var n of"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?e.changedTouches:e instanceof MouseEvent?[e]:[])t.push({x:n.clientX,y:n.clientY,ts:Date.now()});return t}function X(e){var t=e[0],e=e[1]||t;return{x:(t.x+e.x)/2,y:(t.y+e.y)/2,ts:e.ts}}function j(e){var t=e[0],e=e[1]||e[0];return t&&e?-1*Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)):0}Ee.destroy=()=>{for(var e of H)e.destroy();z&&(cancelAnimationFrame(z),z=null)};function E(e="",t="",n=""){return e.split(t).join(n)}let N=e=>{e.cancelable&&e.preventDefault()},F={passive:!(Ee.Easings={Linear:function(e){return e},EaseIn:function(e){return 0===e?0:Math.pow(2,10*e-10)},EaseOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},EaseInOut:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}})},q={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]},$=!1,D=!0,we=(e,t)=>{let r,s,l,a={...q,...t},c=[],d=[],u=[],f=!1,g=!1,p=!1,m=0,h=0,v=0,y=0,b=0,E=0,w=0,x=0,M=0,i=[],L=0,n=0,S=new Map;function T(e){var t,n=j(d),o=j(u),i=Math.abs(w)>Math.abs(x)?w:x,a={srcEvent:l,isPanRecognized:f,isSwipeRecognized:g,firstTouch:c,previousTouch:u,currentTouch:d,deltaX:v,deltaY:y,offsetX:b,offsetY:E,velocityX:w,velocityY:x,velocity:i,angle:M,axis:s,scale:n&&o?n/o:0,center:r};for(t of S.get(e)||[])t(a)}function R(e){let t=Date.now();i=i.filter(e=>!e.ts||e.ts>t-100),e&&i.push(e)}function o(){var e,t,n,o;w=0,x=0,3<i.length&&(e=i[0],o=i[i.length-1],e&&o&&(t=o.x-e.x,n=o.y-e.y,0<(o=e.ts&&o.ts?o.ts-e.ts:0)&&(w=3<Math.abs(t)?t/(o/30):0,x=3<Math.abs(n)?n/(o/30):0)))}function P(e){if(e instanceof MouseEvent){if($)return}else $=!0;let t=e.composedPath()[0],n=a.ignore.join(",");var o,i;t.matches(n)||t.closest(n)||"undefined"!=typeof MouseEvent&&e instanceof MouseEvent&&(!e.buttons||0!==e.button)||(e instanceof MouseEvent&&N(e),i=(o=Date.now())-(m||o),p=0<i&&i<=250,m=o,clearTimeout(L),(l=e)instanceof MouseEvent&&(window.addEventListener("mousemove",C),window.addEventListener("mouseup",O)),window.addEventListener("blur",A),c=[...d=V(e)],u=[],h=d.length,r=X(d),1===h&&(f=!1,g=!1),h&&R(X(d)),T("start"))}function C(e){var t;c.length&&!e.defaultPrevented&&(l=e,u=[...d],h=(d=V(e)).length,e=r=X(d),t=X(u),v=e.x-t.x,y=e.y-t.y,R(e),o(),T("move"),1<d.length&&.1<=Math.abs(j(d)-j(u))&&T("pinch"),!f&&c.length&&(t=X(c),b=e.x-t.x,E=e.y-t.y,(f=Math.abs(b)>a.panThreshold||Math.abs(E)>a.panThreshold)&&(D=!1,clearTimeout(n),n=0,s=45<(M=Math.abs(180*Math.atan2(E,b)/Math.PI))&&M<135?"y":"x",c=[...d],u=[...d],window.getSelection()?.removeAllRanges(),T("panstart"))),f&&(v||y)&&T("pan"))}function O(e){var t;l=e,c.length&&(t=V(e),e=ae(e),h=t.length,r=X(e),e.length&&R(X(e)),o(),u=[...d],d=[...t],c=[...t],0<t.length?(T("end"),f=!1,g=!1,i=[]):(e=a.swipeThreshold,(Math.abs(w)>e||Math.abs(x)>e)&&(g=!0),f&&T("panend"),g&&T("swipe"),f||g||(T("tap"),p?T("doubleTap"):L=setTimeout(function(){T("singleTap")},250)),T("end"),z()))}function A(){clearTimeout(L),z(),f&&T("panend"),T("end")}function z(){f=!1,g=!1,p=!1,h=0,i=[],d=[],u=[],c=[],v=0,y=0,b=0,E=0,w=0,x=0,M=0,s=void 0,window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",O),window.removeEventListener("blur",A),D||n||(n=setTimeout(()=>{D=!0,n=0},100))}function I(e){var t=e.target;$=!1,!t||e.defaultPrevented||D||(N(e),e.stopPropagation())}let k={init:function(){if(e)return e.addEventListener("click",I,F),e.addEventListener("mousedown",P,F),e.addEventListener("touchstart",P,F),e.addEventListener("touchmove",C,F),e.addEventListener("touchend",O),e.addEventListener("touchcancel",O),k},on:function(e,t){return S.set(e,[...S.get(e)||[],t]),k},off:function(e,t){return S.has(e)&&S.set(e,S.get(e).filter(e=>e!==t)),k},isPointerDown:()=>0<h,destroy:function(){clearTimeout(L),clearTimeout(n),n=0,e&&(e.removeEventListener("click",I,F),e.removeEventListener("mousedown",P,F),e.removeEventListener("touchstart",P,F),e.removeEventListener("touchmove",C,F),e.removeEventListener("touchend",O),e.removeEventListener("touchcancel",O)),e=null,z()}};return k},s=(we.isClickAllowed=()=>D,{IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset"}),re=1e4,se=e=>{e.cancelable&&e.preventDefault()},G=(e,t=re)=>Math.round(((e=parseFloat(e+"")||0)+Number.EPSILON)*t)/t,U=((t={}).Reset="reset",t.Zoom="zoom",t.ZoomIn="zoomIn",t.ZoomOut="zoomOut",t.ZoomTo="zoomTo",t.ToggleCover="toggleCover",t.ToggleFull="toggleFull",t.ToggleMax="toggleMax",t.IterateZoom="iterateZoom",t.Pan="pan",t.Swipe="swipe",t.Move="move",t.MoveLeft="moveLeft",t.MoveRight="moveRight",t.MoveUp="moveUp",t.MoveDown="moveDown",t.RotateCCW="rotateCCW",t.RotateCW="rotateCW",t.FlipX="flipX",t.FlipY="flipY",t),l=((t={}).Cover="cover",t.Full="full",t.Max="max",t),K={x:0,y:0,scale:1,angle:0,flipX:1,flipY:1},J=((t={})[t.Init=0]="Init",t[t.Loading=1]="Loading",t[t.Error=2]="Error",t[t.Ready=3]="Ready",t[t.Destroyed=4]="Destroyed",t),le={bounds:!0,classes:{container:"f-panzoom",wrapper:"f-panzoom__wrapper",content:"f-panzoom__content",viewport:"f-panzoom__viewport"},clickAction:U.ToggleFull,dblClickAction:!1,gestures:{},height:"auto",l10n:s,maxScale:4,minScale:1,mouseMoveFactor:1,panMode:"drag",protected:!1,singleClickAction:!1,spinnerTpl:'<div class="f-spinner"></div>',wheelAction:U.Zoom,width:"auto"},ce=0,de=0,ue=0,u=(b,t={},_={})=>{let d,s,u,y,E,i,l,f=J.Init,a={...le,...t},r={},w={...K},x={...K},c=[];function M(e){let t=a[e];return t&&"function"==typeof t?t(D):t}let g=new Map;function L(e,...t){let n=[...g.get(e)||[]];for(var o of(a.on&&n.push(a.on[e]),n))o&&o instanceof Function&&o(D,...t);"*"!==e&&L("*",e,...t)}function n(n){if(f===J.Ready&&!he(n.target)){var o=Date.now(),i=ye(-1,[-n.deltaX||0,-n.deltaY||0,-n.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e}),1),a=(L("wheel",n,i),M("wheelAction"));if(a&&!n.defaultPrevented){let e=x.scale,t=e*(0<i?1.5:.5);if(a===U.Zoom){var r=Math.abs(n.deltaY)<100&&Math.abs(n.deltaX)<100;if(o-de<(r?200:45))return void se(n);de=o;r=C(),o=z();if(t=G(t)<G(r)&&G(e)<=G(r)?(ue+=Math.abs(i),r):G(t)>G(o)&&G(e)>=G(o)?(ue+=Math.abs(i),o):(ue=0,ye(r,t,o)),7<ue)return}switch(se(n),a){case U.Pan:v(a,{srcEvent:n,deltaX:-2*n.deltaX,deltaY:-2*n.deltaY});break;case U.Zoom:v(U.ZoomTo,{srcEvent:n,scale:t,center:{x:n.clientX,y:n.clientY}});break;default:v(a,{srcEvent:n})}}}}function o(t){let e=t.composedPath()[0];if(we.isClickAllowed()&&me(e)&&!t.defaultPrevented&&b?.contains(e)&&!e.hasAttribute("disabled")&&!e.hasAttribute("aria-disabled")){var n=e.closest("[data-panzoom-action]"),o=n?.dataset?.panzoomAction,i=n?.dataset?.panzoomValue||"";if(o)switch(o){case U.ZoomTo:case U.ZoomIn:case U.ZoomOut:v(o,{scale:parseFloat(i||"")||void 0});break;case U.MoveLeft:case U.MoveRight:v(o,{deltaX:parseFloat(i||"")||void 0});break;case U.MoveUp:case U.MoveDown:v(o,{deltaY:parseFloat(i||"")||void 0});break;default:v(o)}else if(d?.contains(e)){let e={srcEvent:t};v(M("clickAction"),e),M("dblClickAction")&&(t=(n=Date.now())-(ce||n),ce=n,0<t&&t<=250?(oe&&(clearTimeout(oe),oe=void 0),v(M("dblClickAction"),e)):oe=setTimeout(()=>{v(M("singleClickAction"),e)},250))}}}function p(e){var t;l=e,!R()||f!==J.Ready||w.scale<=1||x.scale<=1||-1<(d?.dataset.animationName||"").indexOf("zoom")||(e=P(x.scale))&&({x:e,y:t}=e,v(U.Pan,{deltaX:e-x.x,deltaY:t-x.y}))}function H(){if(b&&(b.querySelector(".f-spinner")?.remove(),b.classList.remove("is-loading")),b&&d){if(s instanceof HTMLImageElement&&(!s.complete||!s.naturalWidth))return f=J.Error,d?.classList.add("has-error"),void L("error");L("loaded");var{width:e,height:t}=T(),t=(s&&(s.setAttribute("width",e+""),s.setAttribute("height",t+"")),d&&(d.classList.remove("has-error"),d.setAttribute("width",e+""),d.setAttribute("height",t+""),d.style.aspectRatio=""+(e/t||"")),E=Ee().on("start",(e,t)=>{x={...K,...t},void 0!==t.angle&&(t.angle=90*Math.round(t.angle/90)),void 0!==t.flipX&&(t.flipX=0<t.flipX?1:-1),void 0!==t.flipY&&(t.flipY=0<t.flipY?1:-1),h(),L("animationStart")}).on("pause",e=>{x={...K,...e}}).on("step",e=>{if(f===J.Ready&&E)if(b&&b.parentElement)if(w={...K,...e},R()||!M("bounds")||y?.isPointerDown()||x.scale>w.scale||x.scale<O())k();else{let e=I(x.scale),t=!1,n=!1,o=!1,i=!1,a=(w.x<e.x[0]&&(t=!0),w.x>e.x[1]&&(n=!0),w.y<e.y[0]&&(i=!0),w.y>e.y[1]&&(o=!0),!1),r=!1,s=!1,l=!1,c=(x.x<e.x[0]&&(a=!0),x.x>e.x[1]&&(r=!0),x.y<e.y[0]&&(l=!0),x.y>e.y[1]&&(s=!0),!1);(n&&r||t&&a)&&(x.x=ye(e.x[0],x.x,e.x[1]),c=!0),(o&&s||i&&l)&&(x.y=ye(e.y[0],x.y,e.y[1]),c=!0),c&&E.spring({tension:94,friction:17,maxSpeed:555*x.scale,restDelta:.1,restSpeed:.1,velocity:E.getCurrentVelocities()}).from(w).to(x).start(),k()}else E.end()}).on("end",()=>{m(),E?.isRunning()||(h(),L("animationEnd"))}),(e=M("gestures"))&&u&&s&&(y=we(u,e).on("start",t=>{if(E){let e=t.srcEvent;R()||((1<w.scale||1<t.currentTouch.length)&&(e?.stopPropagation(),E.pause()),1===t.currentTouch.length&&L("touchStart"))}}).on("move",e=>{!R()&&(1!==x.scale||1<e.currentTouch.length)&&(e.srcEvent.preventDefault(),e.srcEvent.stopPropagation())}).on("pan",e=>{var t;R()||(t=e.srcEvent,(1!==x.scale||1<e.currentTouch.length)&&(se(t),v(U.Pan,e)))}).on("swipe",e=>{!R()&&1<x.scale&&v(U.Swipe,e)}).on("tap",e=>{L("click",e)}).on("singleTap",e=>{L("singleClick",e)}).on("doubleTap",e=>{L("dblClick",e)}).on("pinch",e=>{R()||(e.scale>O()?v(U.ZoomIn,e):e.scale<O()?v(U.ZoomOut,e):v(U.Pan,e))}).on("end",e=>{R()||(e.currentTouch.length?(e.srcEvent.stopPropagation(),se(e.srcEvent),E?.end()):(h(),m(),L("touchEnd")))}).init()),u&&(u.addEventListener("wheel",n,{passive:!1}),c.push(()=>{u?.removeEventListener("wheel",n,{passive:!1})})),b?.addEventListener("click",o),document?.addEventListener("mousemove",p),c.push(()=>{b?.removeEventListener("click",o),document?.removeEventListener("mousemove",p)}),{...M("startPos")||{},scale:O()});w={...K,...t},x={...K,...t},R()&&(e=P(x.scale))&&({x:t,y:e}=e,w.x=t,w.y=e,x.x=t,x.y=e),f=J.Ready,k(),h(),L("ready"),requestAnimationFrame(()=>{u&&(u.style.visibility="")})}}function S(){let e={top:0,left:0,width:0,height:0};var t;return d&&(t=d.getBoundingClientRect(),x.angle%180==90?(e.top=t.top+.5*t.height-.5*t.width,e.left=t.left+.5*t.width-.5*t.height,e.width=t.height,e.height=t.width):(e.top=t.top,e.left=t.left,e.width=t.width,e.height=t.height)),e}function T(){let e=M("width"),t=M("height");var n;return e=s&&"auto"===e?(n=s.getAttribute("width"))?parseFloat(n+""):void 0!==s.dataset.width?parseFloat(s.dataset.width+""):u instanceof HTMLImageElement?u.naturalWidth:s instanceof HTMLImageElement?s.naturalWidth:s.getBoundingClientRect().width:pe(e)?parseFloat(e):e,t=s&&"auto"===t?(n=s.getAttribute("height"))?parseFloat(n+""):void 0!==s.dataset.height?parseFloat(s.dataset.height+""):u instanceof HTMLImageElement?u.naturalHeight:s instanceof HTMLImageElement?s.naturalHeight:s.getBoundingClientRect().height:pe(t)?parseFloat(t):t,{width:e,height:t}}function R(){return"mousemove"===M("panMode")&&matchMedia("(hover: hover)").matches}function P(e){var t=l||M("event"),n=d?.getBoundingClientRect();if(!t||!n||e<=1)return{x:0,y:0};var o=(t.clientX||0)-n.left,t=(t.clientY||0)-n.top,i=n.width,n=n.height,a=I(e),r=(1<e&&(1<(r=M("mouseMoveFactor"))&&(e*=r)),i*e),e=n*e,o=.5*(r-i)-o/i*100/100*(r-i),r=.5*(e-n)-t/n*100/100*(e-n);return{x:ye(a.x[0],o,a.x[1]),y:ye(a.y[0],r,a.y[1])}}function e(e="base"){if(!b)return 1;let n=b.getBoundingClientRect(),o=S(),{width:i,height:a}=T(),t=e=>{if("number"==typeof e)return e;switch(e){case"min":case"base":return 1;case"cover":return Math.max(n.height/o.height,n.width/o.width)||1;case"full":case"max":var t=x.angle%180==90?a:i;return t&&o.width?t/o.width:1}},r=M("minScale"),s=M("maxScale"),l=Math.min(t("full"),t(r)),c="number"==typeof s?t("full")*s:Math.min(t("full"),t(s));switch(e){case"min":return l;case"base":return ye(l,1,c);case"cover":return t("cover");case"full":return Math.min(c,t("full"));case"max":return c}}function C(){return e("min")}function O(){return e("base")}function V(){return e("cover")}function A(){return e("full")}function z(){return e("max")}function I(e){let t={x:[0,0],y:[0,0]},n=b?.getBoundingClientRect();if(!n)return t;let o=S(),i=n.width,a=n.height,r=o.width,s=o.height,l=e=void 0===e?x.scale:e,c=e;var d;return R()&&1<e&&(1<(d=M("mouseMoveFactor"))&&(r*e>i+.01&&(l*=d),s*e>a+.01&&(c*=d))),r*=l,s*=c,1<e&&(r>i&&(t.x[0]=.5*(i-r),t.x[1]=.5*(r-i)),t.x[0]-=.5*(o.left-n.left),t.x[1]-=.5*(o.left-n.left),t.x[0]-=.5*(o.left+o.width-n.right),t.x[1]-=.5*(o.left+o.width-n.right),s>a&&(t.y[0]=.5*(a-s),t.y[1]=.5*(s-a)),t.y[0]-=.5*(o.top-n.top),t.y[1]-=.5*(o.top-n.top),t.y[0]-=.5*(o.top+o.height-n.bottom),t.y[1]-=.5*(o.top+o.height-n.bottom)),t}function m(){if(M("bounds")&&f===J.Ready&&b?.parentElement&&E){var e=C(),t=z(),n=ye(e,x.scale,t);if(x.scale<e-.01||x.scale>t+.01)return v(U.ZoomTo,{scale:n});E.isRunning()||y?.isPointerDown()||(e=I(n),x.x<e.x[0]||x.x>e.x[1]||x.y<e.y[0]||x.y>e.y[1]?(x.x=ye(e.x[0],x.x,e.x[1]),x.y=ye(e.y[0],x.y,e.y[1]),E.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:E.getCurrentVelocities()}),E.from(w).to(x).start()):k())}}function h(){if(b&&b.parentElement&&d){var o,e=B(),t=Z(),n=F(),i=Y(),a=N(),r=q(),s=(d.classList.toggle("is-fullsize",i),d.classList.toggle("is-expanded",n),d.classList.toggle("is-dragging",t),d.classList.toggle("can-drag",e),d.classList.toggle("will-zoom-in",a),d.classList.toggle("will-zoom-out",r),$()),l=W(),c=f!==J.Ready;for(o of b?.querySelectorAll("[data-panzoom-action]")||[]){let t=o.dataset.panzoomAction,n=!1;if(c)n=!0;else switch(t){case U.ZoomIn:s||(n=!0);break;case U.ZoomOut:l||(n=!0);break;case U.ToggleFull:s||l||(n=!0);let e=o.querySelector("g");e&&(e.style.display=i?"none":"");break;case U.ToggleCover:case U.ToggleMax:s||l||(n=!0)}n?(o.setAttribute("aria-disabled",""),o.setAttribute("tabindex","-1")):(o.removeAttribute("aria-disabled"),o.removeAttribute("tabindex"))}}}function v(u,f){if(b&&s&&E&&!(u===U.Swipe&&.01<Math.abs(E.getCurrentVelocities().scale))){let n={...x},o=I((R()?x:w).scale),e=E.getCurrentVelocities(),i=S(),a=1<((f=f||{}).currentTouch?.length||0),r=f.velocityX||0,s=f.velocityY||0,l=f.center,c=(!l&&f.srcEvent&&(l=X(ae(f.srcEvent))),f.deltaX||0),d=f.deltaY||0;switch(u){case U.MoveRight:c=f.deltaX||100;break;case U.MoveLeft:c=f.deltaX||-100;break;case U.MoveUp:d=f.deltaY||-100;break;case U.MoveDown:d=f.deltaY||100}let t=[];switch(u){case U.Reset:(x={...K}).scale=O();break;case U.Pan:case U.Move:case U.MoveLeft:case U.MoveRight:case U.MoveUp:case U.MoveDown:if(y?.isPointerDown()){let e=1,t=1;x.x<=o.x[0]&&r<=0&&(e=.2*Math.max(.01,1-Math.abs(1/i.width*Math.abs(x.x-o.x[0])))),x.x>=o.x[1]&&0<=r&&(e=.2*Math.max(.01,1-Math.abs(1/i.width*Math.abs(x.x-o.x[1])))),x.y<=o.y[0]&&s<=0&&(t=.2*Math.max(.01,1-Math.abs(1/i.height*Math.abs(x.y-o.y[0])))),x.y>=o.y[1]&&0<=s&&(t=.2*Math.max(.01,1-Math.abs(1/i.height*Math.abs(x.y-o.y[1])))),x.x+=c*e,x.y+=d*t}else x.x=ye(o.x[0],x.x+c,o.x[1]),x.y=ye(o.y[0],x.y+d,o.y[1]);break;case U.Swipe:var g=(e=0)=>Math.sign(e)*Math.pow(Math.abs(e),1.5);x.x+=ye(-1e3,g(r),1e3),x.y+=ye(-1e3,g(s),1e3),s&&!r&&(x.x=ye(o.x[0],x.x,o.x[1])),!s&&r&&(x.y=ye(o.y[0],x.y,o.y[1])),e.x=r,e.y=s;break;case U.ZoomTo:x.scale=f.scale||1;break;case U.ZoomIn:x.scale=x.scale*(f.scale||2),a||(x.scale=Math.min(x.scale,z()));break;case U.ZoomOut:x.scale=x.scale*(f.scale||.5),a||(x.scale=Math.max(x.scale,C()));break;case U.ToggleCover:t=[O(),V()];break;case U.ToggleFull:t=[O(),A()];break;case U.ToggleMax:t=[O(),z()];break;case U.IterateZoom:t=[O(),A(),z()];break;case U.Zoom:g=A();x.scale>=g-.05?x.scale=O():x.scale=Math.min(g,x.scale*(f.scale||2));break;case U.RotateCW:x.angle+=90;break;case U.RotateCCW:x.angle-=90;break;case U.FlipX:x.flipX*=-1;break;case U.FlipY:x.flipY*=-1}if(void 0!==w.angle&&360<=Math.abs(w.angle)&&(x.angle-=360*Math.floor(w.angle/360),w.angle-=360*Math.floor(w.angle/360)),t.length&&(p=t.findIndex(e=>e>x.scale+1/re),x.scale=t[p]||t[0]),a&&(x.scale=ye(C()*(a?.8:1),x.scale,z()*(a?1.6:1))),R()){var p=P(x.scale);p&&({x:p,y:m}=p,x.x=p,x.y=m)}else if(x.scale!==n.scale){let e=0,t=0;t=l?(e=l.x,l.y):(p=b.getBoundingClientRect(),e=p.x+.5*p.width,p.y+.5*p.height);var m=e-i.left,p=t-i.top,h=(m-=.5*i.width,p-=.5*i.height,(m-n.x)/n.scale),v=(p-n.y)/n.scale;x.x=m-h*x.scale,x.y=p-v*x.scale,!a&&M("bounds")&&(o=I(x.scale),x.x=ye(o.x[0],x.x,o.x[1]),x.y=ye(o.y[0],x.y,o.y[1]))}u===U.Swipe?(m=500*x.scale,E.spring({tension:94,friction:17,maxSpeed:m,restDelta:.1,restSpeed:.1,velocity:e})):u===U.Pan||a?E.spring({tension:750,friction:17,restDelta:.01,restSpeed:.01,maxSpeed:1}):E.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:e}),u===U.Reset&&0===f.velocity?w={...x}:E.from(w).to(x).start(),L("action",u)}}function k(){if(d&&s){var r;s instanceof HTMLImageElement&&({width:c,height:r}=T(),d.style.maxWidth=`min(${c}px, 100%)`,d.style.maxHeight=`min(${r}px, 100%)`);let{x:e,y:t,scale:n,angle:l,flipX:o,flipY:i}=w,a=`translate3d(${e}px, ${t}px, 0)`;1!==o||1!==i?a+=` scaleX(${n*o}) scaleY(${n*i})`:1!==n&&(a+=` scale(${n})`),l%360!=0&&(a+=` rotate(${l}deg)`);var c=function(){var e=S(),t=e.width,e=e.height,{width:n,height:o}=T();if(!b)return{x:0,y:0,width:0,height:0,scale:0,flipX:0,flipY:0,angle:0,fitWidth:t,fitHeight:e,fullWidth:n,fullHeight:o};let{x:i,y:a,scale:r,angle:s,flipX:l,flipY:c}=w,d=1/A(),u=n,f=o,g=(w.scale,x.scale*d),p=Math.max(t,e),m=Math.min(t,e);f=o<n?(u=p,m):(u=m,p);var h=u?n*g:0,v=f?o*g:0,y=u&&f?n*(o<n?p*r/n||1:p*r/o||1)/h:0;return{x:i+.5*u-.5*h,y:a+.5*f-.5*v,width:h,height:v,scale:y,flipX:l,flipY:c,angle:s,fitWidth:t,fitHeight:e,fullWidth:n,fullHeight:o}}();if(d&&c){let{x:e,y:t,width:n,height:o,scale:i,flipX:a,flipY:r}=c,s=`translate(${G(e)}px, ${G(t)}px)`;s+=1!==a||1!==r?` scaleX(${G(i*a)}) scaleY(${G(i*r)})`:` scale(${G(i)})`,0!==l&&(s+=` rotate(${l}deg)`),u&&(u.style.width=G(n)+"px",u.style.height=G(o)+"px",u.style.transform=""+s)}L("render")}}function j(){let t=x.scale,n=M("clickAction"),o=O();if(n){let e=[];switch(n){case U.ZoomIn:o=2*t;break;case U.ZoomOut:o=.5*t;break;case U.ToggleCover:e=[O(),V()];break;case U.ToggleFull:e=[O(),A()];break;case U.ToggleMax:e=[O(),z()];break;case U.IterateZoom:e=[O(),A(),z()];break;case U.Zoom:var i=A();o=t>=i-.05?O():Math.min(i,2*t)}var a;e.length&&(a=e.findIndex(e=>e>t+1/re),o=e[a]||O())}return ye(C(),o,z())}function N(){return f===J.Ready&&j()>x.scale}function q(){return f===J.Ready&&j()<x.scale}function $(){return f===J.Ready&&x.scale<z()}function W(){return f===J.Ready&&x.scale>C()}function B(){return f===J.Ready&&F()&&!!y&&!R()}function Z(){return f===J.Ready&&y?.isPointerDown()&&!R()}function F(){return f===J.Ready&&x.scale>O()}function Y(){return f===J.Ready&&x.scale>=A()}let D={canDrag:B,canZoomIn:$,canZoomOut:W,destroy:function(){for(var e of(L("destroy"),Object.values(r)))e?.destroy(D);for(var t of c)t();return d&&(d.style.aspectRatio="",d.style.maxWidth="",d.style.maxHeight=""),u&&(u.style.width="",u.style.height="",u.style.transform=""),d=void 0,s=void 0,u=void 0,w={...K},x={...K},E?.destroy(),E=void 0,y?.destroy(),y=void 0,f=J.Destroyed,D},emit:L,execute:v,getBoundaries:I,getContainer:function(){return b},getFullDim:T,getGestures:function(){return y},getMousemovePos:P,getOptions:function(){return a},getScale:e,getState:function(){return f},getTransform:function(e){return!0===e?x:w},getTween:function(){return E},getViewport:function(){return u},getWrapper:function(){return d},init:function(){f=J.Init,L("init");for(var[t,n]of Object.entries({..._,...a.plugins||{}}))if(t&&!r[t]&&n instanceof Function){let e=n();e.init(D),r[t]=e}if(L("initPlugins"),b){var o={...le.classes,...M("classes")};if(be(b,o.container),(s=b.querySelector("."+o.content))&&(s.setAttribute("draggable","false"),(d=b.querySelector("."+o.wrapper))||(be(d=document.createElement("div"),o.wrapper),s.insertAdjacentElement("beforebegin",d),d.insertAdjacentElement("afterbegin",s)),s instanceof HTMLImageElement||s instanceof HTMLPictureElement)){if(!(u=b.querySelector("."+o.viewport))){be(u=document.createElement("div"),o.viewport);let e=s.cloneNode(!0);e.classList.remove("is-lazyloading"),e.classList.remove("is-lazyloaded"),u.insertAdjacentElement("afterbegin",e),d.insertAdjacentElement("beforeend",u)}s instanceof HTMLPictureElement&&(s=s.querySelector("img")),(u=u instanceof HTMLPictureElement?u.querySelector("img"):u).style.visibility="hidden",M("protected")&&(u.addEventListener("contextmenu",e=>{e.preventDefault()}),o=document.createElement("div"),be(o,"f-panzoom__protected"),u.appendChild(o)),L("initLayout")}}if(function(){if(s&&s instanceof HTMLImageElement){f=J.Loading,L("loading");let e=()=>{s&&s instanceof HTMLImageElement&&s.decode().then(()=>{requestAnimationFrame(()=>{H()})}).catch(()=>{H()})};if(s.src&&s.complete)return e();var t=b?.querySelector(".f-spinner");if(b&&!t){let e=fe(M("spinnerTpl"));e&&(e.classList.add("f-spinner"),b.classList.add("is-loading"),d?.insertAdjacentElement("afterbegin",e))}s.addEventListener("load",e,!1),s.addEventListener("error",e,!1),c.push(()=>{s?.removeEventListener("load",e,!1),s?.removeEventListener("error",e,!1)})}}(),b&&d&&!i){let e=null;(i=new ResizeObserver(()=>{e=e||requestAnimationFrame(()=>{b&&b.parentElement&&f===J.Ready&&(h(),m(),L("refresh")),e=null})})).observe(d),c.push(()=>{i?.disconnect(),i=void 0,e&&(cancelAnimationFrame(e),e=null)})}return D},isDragging:Z,isExpanded:F,isFullsize:Y,localize:function(t,n=[]){let o=M("l10n")||{};t=String(t).replace(/\{\{(\w+)\}\}/g,(e,t)=>o[t]||e);for(let e=0;e<n.length;e++)t=t.split(n[e][0]).join(n[e][1]);return t.replace(/\{\{(.*?)\}\}/g,(e,t)=>t)},off:function(e,t){for(var n of e instanceof Array?e:[e])g.has(n)&&g.set(n,g.get(n).filter(e=>e!==t));return D},on:function(e,t){for(var n of e instanceof Array?e:[e])g.set(n,[...g.get(n)||[],t]);return D},version:"6.0.22",willZoomIn:N,willZoomOut:q};return D},Oe=(u.l10n={en_EN:s},u.getDefaults=()=>le,(e,t)=>{let n=[];return e.childNodes.forEach(e=>{e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||n.push(e)}),n}),xe=(t,e="")=>{t&&t.classList&&e.split(" ").forEach(e=>{e&&t.classList.remove(e)})},Me=(t,e="",n)=>{t&&t.classList&&e.split(" ").forEach(e=>{e&&t.classList.toggle(e,n||!1)})},d={...s,ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"},Le=e=>{e.cancelable&&e.preventDefault()},Se=((t={})[t.Init=0]="Init",t[t.Ready=1]="Ready",t[t.Destroyed=2]="Destroyed",t),Y=((t={})[t.Loading=0]="Loading",t[t.Loaded=1]="Loaded",t[t.Error=2]="Error",t),Te={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:d,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:160,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1},Ae=0,Re=(e,t={},q={})=>{let g,p,$,r,W,m=(Ae++,Se.Init),h={...Te},v={...Te},y={},b=null,E=null,B=!1,w=!1,c=!1,x=!1,s="height",M=0,L=!0,S=0,T=0,R=0,P=0,l="*",C=[],O=[],d=new Set,a=[],A=[],Z=0,Y=0,z=0;function I(e,...t){let n=v[e];return n&&n instanceof Function?n(N,...t):n}function u(t,n=[]){let o=I("l10n")||{};t=String(t).replace(/\{\{(\w+)\}\}/g,(e,t)=>o[t]||e);for(let e=0;e<n.length;e++)t=t.split(n[e][0]).join(n[e][1]);return t.replace(/\{\{(.*?)\}\}/g,(e,t)=>t)}let i=new Map;function k(e,...t){let n=[...i.get(e)||[]];for(var o of(v.on&&n.push(v.on[e]),n))o&&o instanceof Function&&o(N,...t);"*"!==e&&k("*",e,...t)}function n(){let t=ve({},Te,h),e=(ve(t,Te,h),""),n=h.breakpoints||{};if(n)for(var[o,i]of Object.entries(n))window.matchMedia(o).matches&&(e+=o,ve(t,i));if(void 0===W||e!==W){if(W=e,m!==Se.Init){let e=A[S]?.slides[0]?.index;for(var a of(void 0===e&&(e=v.initialSlide),t.initialSlide=e,t.slides=[],C))a.isVirtual&&t.slides.push(a)}if(ue(),!1!==(v=t).enabled){m=Se.Init,k("init");for(var[r,s]of Object.entries({...q,...v.plugins||{}}))if(r&&!y[r]&&s instanceof Function){let e=s();e.init(N,Re),y[r]=e}if(k("initPlugins"),b){var l=I("classes")||{},c=(be(b,l.container),be(b,l.isEnabled),I("style"));if(c&&ge(c))for(var[d,u]of Object.entries(c))b.style.setProperty(d,u);(E=b.querySelector("."+l.viewport))||(be(E=document.createElement("div"),l.viewport),E.append(...Oe(b,"."+l.slide)),b.insertAdjacentElement("afterbegin",E)),b.carousel=N,k("initLayout")}if(E){var f,c=I("classes")||{};for(f of(C=[],[...Oe(E,"."+c.slide)].forEach(e=>{e.parentElement&&(C.push(te({el:e,isVirtual:!1,...e.dataset||{}})),e.parentElement.removeChild(e))}),ee(I("slides")),C))k("addSlide",f);k("initSlides")}if(H(),b&&(b.addEventListener("click",se,{passive:!1}),document.addEventListener("mousemove",X),!$)){let t=null;($=new ResizeObserver(e=>{t=t||requestAnimationFrame(()=>{(function(e){if(b){var t,n;if(m===Se.Init)return t=(e=e[0]?.contentBoxSize[0])?.blockSize||0,e=e?.inlineSize||0,Z=t,Y=e,m=Se.Ready,p=Ee().on("start",()=>{g&&g.isPointerDown()||(F(),j())}).on("step",e=>{var t=M;(M=e.pos)!==t&&(L=!1,j())}).on("end",e=>{g?.isPointerDown()||(M=e.pos,p&&!w&&(M<R||M>P)?p.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:M}).to({pos:ye(R,M,P)}).start():L||(L=!0,k("settle")))}),G(),j(),U(),k("ready");m===Se.Ready&&(t=A.length,H(),G(),n=(e=b.getBoundingClientRect()).height,e=e.width,1<t&&(x&&Math.abs(n-Z)<.5||!x&&Math.abs(e-Y)<.5)||(Z=n,Y=e,x&&!n||!x&&!e||!b||!E||t===A.length&&g?.isPointerDown()||(I("dragFree")&&(w||M>R&&M<P)?(F(),j()):V(S,{transition:!1}))))}})(e),t=null})})).observe(b)}}}}function X(e){Pe=e}function G(){var e;E&&(!1===(e=I("gestures"))?g&&(g.destroy(),g=void 0):g=g||we(E,e).on("start",e=>{p&&(e=e["srcEvent"],x&&he(e.target),p.pause(),p.getCurrentVelocities().pos=0,(e=A[S]?.slides[0])&&d.has(e.index)&&e.el&&(M=(e.offset||0)+(function(e){e=new DOMMatrixReadOnly(window.getComputedStyle(e).transform);return{width:e.m41||0,height:e.m42||0}}(e.el)[s]||0)*(c&&!x?1:-1)),ae(),!w&&(M<R||M>P)&&p.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:p.getCurrentVelocities()?.pos||0,restDelta:1,restSpeed:1}).from({pos:M}).to({pos:ye(R,M,P)}).start())}).on("move",e=>{let{srcEvent:t,axis:n}=e,o=e.srcEvent.target;o&&he(o)||(n||(t.stopPropagation(),t.stopImmediatePropagation()),("y"===n&&x||"x"===n&&!x)&&(Le(t),t.stopPropagation()))}).on("panstart",e=>{e?.axis===(x?"y":"x")&&be(E,"is-dragging")}).on("panend",()=>{xe(E,"is-dragging")}).on("pan",i=>{var{deltaX:i,deltaY:a,currentTouch:e,axis:t}=i;if(!(!p||1<e.length||"y"===t&&!x||"x"===t&&x)){let e=c&&!x?1:-1,t=x?a:i,n=p?.isRunning()?p.getEndValues().pos:M,o=1;w||(n<=R&&t*e<0?o=.2*Math.max(.01,1-Math.abs(1/D()*Math.abs(n-R))):n>=P&&0<t*e&&(o=.2*Math.max(.01,1-Math.abs(1/D()*Math.abs(n-P))))),n+=t*o*e,p.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:p.getCurrentVelocities()?.pos||0,restDelta:1,restSpeed:1}).from({pos:M}).to({pos:n}).start()}}).on("end",o=>{var{axis:i,velocityX:a,velocityY:r,currentTouch:e}=o,t=A.length,s=I("dragFree");if(!(0<e.length)&&p&&t){let t=I("vertical")?r:a,n=p?.isRunning()?p.getEndValues().pos:M,e=c&&!x?1:-1;if(n+=t*(s?5:1)*e,!w&&(t*e<=0&&n<R||0<=t*e&&n>P)){let e=0;return 0<Math.abs(t)&&(e=2*Math.abs(t),e=Math.min(.3*D(),e)),n=ye(R+-1*e,n,P+e),void p.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*t,restDelta:1,restSpeed:1}).from({pos:M}).to({pos:n}).start()}if(s||y.Autoscroll?.isEnabled())10<Math.abs(t)?p.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*t,restDelta:1,restSpeed:1}).from({pos:M}).to({pos:n}).start():p.isRunning()||L||(L=!0,k("settle"));else if(s||y.Autoscroll?.isEnabled()||!(!o.offsetX&&!o.offsetY||"y"===i&&!x||"x"===i&&x)){let e=J(n);10<Math.abs(t)&&e===S&&(e+=0<t?c&&!x?1:-1:c&&!x?-1:1),V(e,{transition:"tween",tween:{velocity:-1*t}})}else V(S,{transition:"tween"})}}).init())}function f(e="*"){let t=[];for(var n of C)("*"===e||n.class&&n.class.includes(e)||n.el&&n.el?.classList.contains(e))&&t.push(n);r=void 0,l=e,O=[...t]}function F(){var e;!p||(e=J(p?.isRunning()?p.getEndValues().pos:M))!==S&&(r=S,S=e,de(),U(),K(),k("change",S,r))}function U(){if(b){for(var n of(Me(E,"is-draggable",!!g&&0<A.length),b.querySelectorAll("[data-carousel-index]")))n.innerHTML=S+"";for(var o of b.querySelectorAll("[data-carousel-page]"))o.innerHTML=S+1+"";for(var i of b.querySelectorAll("[data-carousel-pages]"))i.innerHTML=A.length+"";let e=!1,t=A[S]?.slides[0];for(var a of(t&&(t.downloadSrc||"image"===t.type&&t.src)&&(e=!0),b.querySelectorAll("[data-carousel-download]")))a.toggleAttribute("aria-disabled",!e)}}function K(t){if(b){let e=(t=t||A[S]?.slides[0]).el;if(e)for(var n of e.querySelectorAll("[data-slide-index]"))n.innerHTML=t.index+1+""}}function J(e){if(!A.length||!p)return 0;let t=_(),n=e,o=(w?n-=Math.floor((e-A[0]?.pos)/t)*t:n=ye(A[0]?.pos,e,A[A.length-1]?.pos),new Map),i=0;for(var a of A){var r=Math.abs(a.pos-n),r=Math.min(r,Math.abs(a.pos-n-t),Math.abs(a.pos-n+t));o.set(i,r),i++}return parseInt((0<o.size?[...o.entries()].reduce((e,t)=>t[1]<e[1]?t:e):[S,0])[0])}function D(){return E&&E.getBoundingClientRect()[s]||0}function _(e=!0){return O.reduce((e,t)=>e+t.dim,0)+(O.length-(w&&e?0:1))*z}function Q(n){let o=_(),i=D();if(!E)return[];let a=[];if(!o||!i)return[];n=void 0===n?M:n,w&&(n-=Math.floor(n/o)*o);let r=0,s=0;var e;B&&(e=E.getBoundingClientRect(),r=Math.abs(e.left),s=Math.abs(window.innerWidth-e.right));let l=0;for(let t of O){var c=(e=0)=>{-1<a.indexOf(t)||(t.pos=l-n+e||0,t.offset+e>n-t.dim-r+.51&&t.offset+e<n+i+s-.51&&a.push(t))};if(t.offset=l,w)for(let e=-1;e<=1;e++)c(o*e);else c();l+=t.dim+z}return a}function ee(e,t){let n=[];for(var o of Array.isArray(e)?e:[e]){o=te({...o,isVirtual:!0});n.push(o)}for(var i of(C.splice(void 0===t?C.length:t,0,...n),ie(),n)){a=void 0;if(i){let e=i.el;e||(i.el=e=document.createElement("div"));var a=i.html?i.html instanceof HTMLElement?i.html:fe(i.html):void 0;a&&(be(a,"f-html"),i.htmlEl=a,be(e,"has-html"),e.append(a),k("contentReady",i))}}return f(l),n}function te(e){return{index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:"",...e=pe(e)||e instanceof HTMLElement?{html:e}:e}}function ne(n){if(E&&n){let t=n.el;if(t){if(t.setAttribute("index",n.index+""),t.parentElement!==E){let e;for(var o of(be(t,v.classes.slide),be(t,n.class),de(n),C))if(o.index>n.index){e=o.el;break}E.insertBefore(t,e&&E.contains(e)?e:null),k("attachSlideEl",n)}return t}}}function oe(e){let t=e?.el;t&&(t.remove(),o(t),k("detachSlideEl",e))}function ie(){for(let n=0;n<C.length;n++){let e=C[n],t=e.el;t&&(e.index!==n&&o(t),t.setAttribute("index",""+n)),e.index=n}}function H(){if(b&&E){c=I("rtl"),s=(x=I("vertical"))?"height":"width";var e=I("classes"),e=(Me(b,e.isLTR,!c),Me(b,e.isRTL,c),Me(b,e.isHorizontal,!x),Me(b,e.isVertical,x),Me(b,e.hasAdaptiveHeight,I("adaptiveHeight")),B="visible"===window.getComputedStyle(E).getPropertyValue("overflow-"+(x?"y":"x")),E.getBoundingClientRect());if(e.width||e.height){z=E&&parseFloat(getComputedStyle(E).getPropertyValue("--f-carousel-gap"))||0;var o,i=function(){let t=0;if(E){let e=document.createElement("div");be(e,v.classes.slide),E.appendChild(e),t=e.getBoundingClientRect()[s],e.remove(),e=void 0}return t}();for(o of O){let t=o.el,n=0;if(!o.isVirtual&&t&&me(t)){let e=!1;t.parentElement&&t.parentElement===E||(E.appendChild(t),e=!0),n=t.getBoundingClientRect()[s],e&&t.parentElement?.removeChild(t)}else n=i;o.dim=n}if(w=!1,I("infinite")){w=!0;let t=_(),n=D();B&&(e=E.getBoundingClientRect(),n=(n+=e.left)+(e.right-e.width));for(let e=0;e<O.length;e++){var a=O[e]?.dim+z;if(t-a<n&&t-a-n<a){w=!1;break}}}{let c;if(b){ie();let e=D(),t=_(!1),n=I("slidesPerPage"),o=(n="auto"===n?1/0:parseFloat(n+""),A=[],0),i=0;for(var d of O)(!A.length||.05<o+d.dim-e||i>=n)&&(A.push({index:A.length,slides:[],dim:0,offset:0,pos:0}),o=0,i=0),A[A.length-1]?.slides.push(d),o+=d.dim+z,i++;let a=I("center"),r=I("fill"),s=0;for(var u of A){for(var f of(u.dim=(u.slides.length-1)*z,u.slides))u.dim+=f.dim;u.offset=s,u.pos=s,!1!==a&&(u.pos-=.5*(e-u.dim)),r&&!w&&e<t&&(u.pos=ye(0,u.pos,t-e)),s+=u.dim+z}let l=[];for(var g of A){let e={...g};c&&e.pos===c.pos?(c.dim+=e.dim,c.slides=[...c.slides,...e.slides]):((c=e).index=l.length,l.push(e))}A=l,U()}}R=A[0]?.pos||0,P=A[A.length-1]?.pos||0,m===Se.Init?(r=void 0,S=I("initialPage"),void 0!==(e=I("initialSlide")||void 0)&&(S=N.getPageIndex(e)||0),S=ye(0,S,A.length-1),T=M=A[S]?.pos||0):((e=p?.isRunning()?p.getEndValues().pos:M)<R||e>P)&&(S=ye(0,S,A.length-1),T=A[S||0]?.pos||0),k("refresh")}}}function o(o){if(o&&me(o)){let t=parseInt(o.getAttribute("index")||"-1"),n="";for(var e of Array.from(o.classList)){e=e.match(/^f-(\w+)(Out|In)$/);e&&e[1]&&(n=e[1]+"")}if(o&&n){let e=[`f-${n}Out`,`f-${n}In`,"to-prev","to-next","from-prev","from-next"];o.removeEventListener("animationend",re),xe(o,e.join(" ")),d.delete(t)}}}function ae(){if(E){var e,t=d.size;for(e of O)o(e.el);d.clear(),t&&j()}}function re(e){"f-"===e.animationName.substring(0,2)&&(o(e.target),d.size||(xe(b,"in-transition"),!L&&Math.abs(N.getPosition(!0)-T)<.5&&(L=!0,k("settle"))),j())}function se(t){if(!t.defaultPrevented){let e=t.composedPath()[0];if(e.closest("[data-carousel-go-prev]"))return Le(t),void N.prev();if(e.closest("[data-carousel-go-next]"))return Le(t),void N.next();var o=e.closest("[data-carousel-go-to]");if(o)return Le(t),void N.goTo(parseFloat(o.dataset.carouselGoTo||"")||0);if(e.closest("[data-carousel-download]")){Le(t);o=A[S]?.slides[0];if(o&&(o.downloadSrc||"image"===o.type&&o.src)){let e=o.downloadFilename,t=document.createElement("a"),n=o.downloadSrc||o.src||"";t.href=n,t.target="_blank",t.download=e||n,t.click()}}else k("click",t)}}function le(e){let t=e.el;t&&(t.querySelector(".f-spinner")?.remove(),xe(t,"is-loading"))}function ce(e){let t=e.el;t&&(t.querySelector(".f-html.is-error")?.remove(),xe(t,"has-error"))}function de(n){let o=(n=n||A[S]?.slides[0])?.el;if(o){let t=I("formatCaption",n),e=(t=(t=void 0===t?n.caption:t)||"",I("captionEl"));if(e&&e instanceof HTMLElement){if(n.index===S&&(pe(t)&&(e.innerHTML=u(t+"")),t instanceof HTMLElement)){if(t.parentElement===e)return;e.innerHTML="",t.parentElement&&(t=t.cloneNode(!0)),e.append(t)}}else if(t){let e=n.captionEl||o.querySelector(".f-caption");(e=!e&&t instanceof HTMLElement&&t.classList.contains("f-caption")?t:e)||(be(e=document.createElement("div"),"f-caption"),pe(t)?e.innerHTML=u(t+""):t instanceof HTMLElement&&(t.parentElement&&(t=t.cloneNode(!0)),e.append(t)));var i=`f-caption-${Ae}_`+n.index;e.setAttribute("id",i),e.dataset.selectable="true",be(o,"has-caption"),o.setAttribute("aria-labelledby",i),n.captionEl=e,o.insertAdjacentElement("beforeend",e)}}}function V(e,t={}){var{transition:t,tween:n}={transition:v.transition,tween:v.tween,...t||{}};if(b&&p){var o=A.length;if(o&&!function(o,i){if(b&&p&&i&&pe(i)&&"tween"!==i&&!(1<A[S]?.slides.length)){let e=A.length,n=o>S?1:-1;o=w?(o%e+e)%e:ye(0,o,e-1),c&&(n*=-1);var a=A[S]?.slides[0],r=a?.index,s=A[o]?.slides[0],l=s?.index,o=A[o]?.pos;if(!(void 0===l||void 0===r||r===l||M===o||1<Math.abs(D()-(s?.dim||0)))){L=!1,p.pause(),ae(),be(b,"in-transition"),M=T=o;let e=ne(a),t=ne(s);return F(),e&&(d.add(r),e.style.transform="",e.addEventListener("animationend",re),xe(e,v.classes.isSelected),be(e,`f-${i}Out to-`+(0<n?"next":"prev"))),t&&(d.add(l),t.style.transform="",t.addEventListener("animationend",re),be(t,v.classes.isSelected),be(t,`f-${i}In from-`+(0<n?"prev":"next"))),j(),1}}}(e,t)){e=w?(e%o+o)%o:ye(0,e,o-1),T=A[e||0]?.pos||0;let i=p.isRunning()?p.getEndValues().pos:M;if(Math.abs(T-i)<1)return M=T,S!==e&&(de(),U(),K(),r=S,k("change",S=e,r)),j(),void(L||(L=!0,k("settle")));if(p.pause(),ae(),w){let e=_(),t=Math.floor((i-A[0]?.pos)/e),n=T+t*e,o=n-e;T=[n+e,n,o].reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e})}!1!==t&&ge(n)?p.spring(ve({},v.tween,n)).from({pos:M}).to({pos:T}).start():(M=T,F(),j(),L||(L=!0,k("settle")))}}}function j(){let o;if(b&&E){let e=A[S],n=(a=Q(),new Set),t=[];for(var s of O)if(!(s.isVirtual&&!d.has(s.index)&&a.indexOf(s)<0)){let r=ne(s);if(r){t.push(s);var i=-1<e?.slides?.indexOf(s);if(i&&n.add(r),!d.has(s.index)){let e=s.pos?Math.round(1e4*s.pos)/1e4:0,t=x?0:c?-1*e:e,n=x?e:0,o=Ce(t,0,s.dim,0,100),i=Ce(n,0,s.dim,0,100),a=v.setTransform||void 0;a instanceof Function?a(N,s,{x:t,y:n,xPercent:o,yPercent:i}):r.style.transform=t||n?`translate3d(${o}%, ${i}%,0)`:""}I("adaptiveHeight")&&i&&(s=(r.firstElementChild||r).getBoundingClientRect().height,o=null==o?s:Math.max(o,s))}}[...Oe(E,"."+v.classes.slide)].forEach(e=>{var t=C[parseInt(e.getAttribute("index")||"-1")];t||e.remove(),Me(e,v.classes.isSelected,n.has(e)),t.isVirtual&&!d.has(t.index)&&a.indexOf(t)<0&&oe(t)}),E&&o&&(E.style.height=o+"px"),k("render",t)}}function ue(){for(var e of(b?.removeEventListener("click",se),ae(),document.removeEventListener("mousemove",X),$?.disconnect(),$=void 0,C))e.el&&me(e.el)&&(e.state=void 0,le(e),ce(e),oe(e),e.isVirtual?(e.el?.remove(),e.el=void 0):(e.el.style.transform="",E?.appendChild(e.el)));for(var t of Object.values(y))t?.destroy();for(var[n,o]of(y={},g?.destroy(),g=void 0,p?.destroy(),p=void 0,Object.entries(v.classes||{})))"container"!==n&&xe(b,o);xe(E,"is-draggable")}let N={add:function(e,t){let n=M,o=S,i=_(),a=Math.floor(((p?.isRunning()?p.getEndValues().pos:M)-A[0]?.pos)/i);for(var r of ee(e,t))k("addSlide",r);return f(l),H(),p&&(o===S&&(n-=a*i),n===(T=A[S||0]?.pos||0)?M=T:p.spring({clamp:!0,mass:1,tension:300,friction:25,restDelta:1,restSpeed:1}).from({pos:n}).to({pos:T}).start()),j(),N},canGoPrev:function(){return w||0<S},canGoNext:function(){return w||S<A.length-1},destroy:function(){return k("destroy"),window.removeEventListener("resize",n),ue(),i.clear(),b=null,A=[],C=[],v={...Te},y={},O=[],W="",l="*",m=Se.Destroyed,N},emit:k,filter:function(e="*"){return f(e),H(),j(),k("filter",e),N},getContainer:function(){return b},getGapDim:function(){return z},getGestures:function(){return g},getLastMouseMove:function(){return Pe},getOption:function(e){return I(e)},getOptions:function(){return v},getPage:function(){return A[S]},getPageIndex:function(e){if(void 0===e)return S;for(var t of A||[])for(var n of t.slides)if(n.index===e)return t.index;return-1},getPageProgress:function(e,t){void 0===e&&(e=S);var n=A[e];if(!n)return e>S?-1:1;let o=_(),i=z,a=n.pos,r=N.getPosition();return w&&!0!==t&&(e=Math.floor((r-A[0]?.pos)/o),r-=e*o,a=[a+o,a,a-o].reduce(function(e,t){return Math.abs(t-r)<Math.abs(e-r)?t:e})),(r-a)/(n.dim+i)},getPageVisibility:function(e){void 0===e&&(e=S);var t=A[e];if(!t)return e>S?-1:1;let n=N.getPosition(),o=D(),i=t.pos;if(w){let n=N.getPosition(),e=_(),t=i+Math.floor((n-A[0]?.pos)/e)*e,o=t-e;i=[t+e,t,o].reduce(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e})}return i>n&&i+t.dim<n+o?1:i<n?(i+t.dim-n)/t.dim:i+t.dim>n+o?(n+o-i)/t.dim:0},getPages:function(){return A},getPlugins:function(){return y},getPosition:function(e){let t=M;return w&&!0!==e&&(e=_(),t-=Math.floor((M-A[0]?.pos||0)/e)*e),t},getSlides:function(){return C},getState:function(){return m},getTotalSlideDim:_,getTween:function(){return p},getViewport:function(){return E},getViewportDim:D,getVisibleSlides:function(e){return void 0===e?a:Q(e)},goTo:V,hasNavigated:function(){return void 0!==r},hideError:ce,hideLoading:le,init:function(){if(e&&me(e))return m!==Se.Init&&(ue(),m=Se.Init),b=e,h=t,window.removeEventListener("resize",n),h.breakpoints&&window.addEventListener("resize",n),n(),N;throw Error("No Element found")},isInfinite:function(){return w},isInTransition:function(){return 0<d.size},isRTL:function(){return c},isSettled:function(){return L},isVertical:function(){return x},localize:function(e,t=[]){return u(e,t)},next:function(e={}){return V(S+1,e),N},off:function(e,t){for(var n of e instanceof Array?e:[e])i.has(n)&&i.set(n,i.get(n).filter(e=>e!==t));return N},on:function(e,t){for(var n of e instanceof Array?e:[e])i.set(n,[...i.get(n)||[],t]);return N},prev:function(e={}){return V(S-1,e),N},remove:function(e){void 0===e&&(e=C.length-1);let t=C[e];return t&&(k("removeSlide",t),t.el&&(o(t.el),t.el.remove(),t.el=void 0),C.splice(e,1),f(l),H(),j()),N},setPosition:function(e){M=e,F(),j()},showError:function(t,n){le(t),ce(t);let o=t.el;if(o){let e=document.createElement("div");be(e,"f-html"),be(e,"is-error"),e.innerHTML=u(n||"<p>{{ERROR}}</p>"),t.htmlEl=e,be(o,"has-html"),be(o,"has-error"),o.insertAdjacentElement("afterbegin",e),k("contentReady",t)}return N},showLoading:function(e){let t=e.el,n=t?.querySelector(".f-spinner");if(!t||n)return N;e=fe(I("spinnerTpl"));return e&&(be(e,"f-spinner"),be(t,"is-loading"),t.insertAdjacentElement("beforeend",e)),N},version:"6.0.22"};return N},f=(Re.l10n={en_EN:d},Re.getDefaults=()=>Te,{tpl:e=>`<img class="f-panzoom__content" 
    ${e.srcset?'data-lazy-srcset="{{srcset}}"':""} 
    ${e.sizes?'data-lazy-sizes="{{sizes}}"':""} 
    data-lazy-src="{{src}}" alt="{{alt}}" />`}),ze=()=>{let l;function c(e,t){let n=l?.getOptions().Zoomable,o=(ge(n)?{...f,...n}:f)[e];return o&&"function"==typeof o&&t?o(t):o}function t(){l&&(l.on("addSlide",o),l.on("removeSlide",i),l.on("attachSlideEl",a),l.on("click",e),l.on("change",n))}function n(){d()}function e(e,t){var n=t.target;n&&!t.defaultPrevented&&n.dataset.panzoomAction&&r(n.dataset.panzoomAction)}function o(e,o){if(l){let t=o.el;if(t){var n,i=o.src||o.lazySrc||"",a=o.alt||o.caption||"Image #"+o.index,r=o.srcset||o.lazySrcset||"",s=o.sizes||o.lazySizes||"";if(!i||!pe(i)||o.html||o.type&&"image"!==o.type||(o.type="image",n=c("tpl",o),n=E(n,"{{src}}",i+""),n=E(n,"{{alt}}",a+""),n=E(n,"{{srcset}}",r+""),n=E(n,"{{sizes}}",s+""),t.insertAdjacentHTML("afterbegin",n)),t.querySelector(".f-panzoom__content")){let e=u(t,{width:o.width&&"auto"!==o.width?parseFloat(o.width+""):"auto",height:o.height&&"auto"!==o.height?parseFloat(o.height+""):"auto",classes:{container:"f-zoomable"},event:()=>l?.getLastMouseMove(),spinnerTpl:()=>l?.getOption("spinnerTpl")||"",...c("Panzoom")});e.on("*",(e,t,...n)=>{l&&("loading"===t&&(o.state=0),"loaded"===t&&(o.state=1),"error"===t&&(o.state=2,l?.showError(o,"{{IMAGE_ERROR}}")),l.emit("panzoom:"+t,o,...n),"ready"===t&&l.emit("contentReady",o),o.index===l.getPageIndex()&&d())}),o.panzoomRef=e}}}}function i(e,t){t.panzoomRef&&(t.panzoomRef.destroy(),t.panzoomRef=void 0)}function a(e,t){let n=t.panzoomRef;if(n)switch(n.getState()){case J.Init:n.init();break;case J.Ready:n.execute(U.Reset,{velocity:0})}}function d(){let t=l?.getContainer();if(t){let e=l?.getPage()?.slides[0].panzoomRef,o=e?.canZoomIn()||!1,i=e?.canZoomOut()||!1,a=e?.isFullsize()||!1,r=!e||e?.getState()!==J.Ready;for(var s of t?.querySelectorAll("[data-panzoom-action]")||[]){let t=s.dataset.panzoomAction,n=!1;if(r)n=!0;else switch(t){case U.ZoomIn:o||(n=!0);break;case U.ZoomOut:i||(n=!0);break;case U.ToggleFull:o||i||(n=!0);let e=s.querySelector("g");e&&(e.style.display=a?"none":"");break;case U.ToggleCover:case U.ToggleMax:o||i||(n=!0)}n?(s.setAttribute("aria-disabled",""),s.setAttribute("tabindex","-1")):(s.removeAttribute("aria-disabled"),s.removeAttribute("tabindex"))}}}function r(e,...t){l?.getPage().slides[0].panzoomRef?.execute(e,...t)}return{init:function(e){!1!==(l=e).getOptions().Zoomable&&l.on("initPlugins",t)},destroy:function(){if(l)for(var e of(l.off("addSlide",o),l.off("removeSlide",i),l.off("attachSlideEl",a),l.off("change",n),l.getSlides()))i(l,e);l=void 0},execute:r}},g={syncOnChange:!1,syncOnClick:!0,syncOnHover:!1},Ie=()=>{let o,i;function t(){var e=o?.getOptions().Sync;return ge(e)?{...g,...e}:g}function n(){var e=t().target;o&&e&&o&&e&&(i=e,o.getOptions().classes={...o.getOptions().classes,isSelected:""},o.getOptions().initialSlide=i.getPage()?.slides[0]?.index||0,t().syncOnChange&&o.on("change",r),t().syncOnClick&&o.on("click",l),t().syncOnHover&&o.getViewport()?.addEventListener("mouseover",c),o&&i&&(o.on("ready",a),o.on("refresh",d),i.on("change",s),i.on("filter",u)))}function a(){f()}function r(){var e;o&&i&&(e=o.getPage()?.slides||[],-1<(e=i.getPageIndex(e[0].index||0))&&i.goTo(e,o.hasNavigated()?void 0:{tween:!1,transition:!1}),f())}function s(){var e;o&&i&&(-1<(e=o.getPageIndex(i.getPage()?.slides[0].index||0))&&o.goTo(e,i.hasNavigated()?void 0:{tween:!1,transition:!1}),f())}function l(e,t){if(o&&i&&!o.getTween()?.isRunning()){var n=o?.getOptions().classes.slide;if(n){let e=n?t.target.closest("."+n):null;e&&(t=parseInt(e.getAttribute("index")||"")||0,n=i.getPageIndex(t),i.goTo(n))}}}function c(e){o&&l(o,e)}function d(){var e;o&&i&&(-1<(e=o.getPageIndex(i.getPage()?.slides[0].index||0))&&o.goTo(e,{tween:!1,transition:!1}),f())}function u(e,t){o&&i&&(o.filter(t),s())}function f(){if(i){var e,t=i.getPage()?.slides[0]?.index||0;for(e of o?.getSlides()||[])e.el?.classList.toggle("is-selected",e.index===t)}}return{init:function(e){(o=e).on("initSlides",n)},destroy:function(){o?.off("ready",a),o?.off("refresh",d),o?.off("change",r),o?.off("click",l),o?.getViewport()?.removeEventListener("mouseover",c),i?.off("change",s),i?.off("filter",u),i=void 0,o?.off("initSlides",n),o=void 0},getTarget:function(){return i}}},p={showLoading:!0,preload:1},m="is-lazyloading",h="is-lazyloaded",ke=()=>{let u;function f(){var e=u?.getOptions().Lazyload;return ge(e)?{...p,...e}:p}function t(){if(u){let e=f().preload,t=[...u.getVisibleSlides()],n=u.getPosition(),o=u.getViewportDim();for(var i of(t.push(...u.getVisibleSlides(n+o*e),...u.getVisibleSlides(n-o*e)),t||[]))!function(o){let i=o.el;if(i){let e="[data-lazy-src],[data-lazy-srcset],[data-lazy-bg]",n=Array.from(i.querySelectorAll(e));for(let t of(i.matches(e)&&n.push(i),n)){var a=t.dataset.lazySrc,r=t.dataset.lazySrcset,s=t.dataset.lazySizes,l=t.dataset.lazyBg,c=(t instanceof HTMLImageElement||t instanceof HTMLSourceElement)&&(a||r),d=t instanceof HTMLElement&&l;if(c||d){let e=a||r||l;e&&(c&&e?(f().showLoading&&u?.showLoading(o),t.addEventListener("load",()=>{u?.hideLoading(o),t instanceof HTMLImageElement?t.decode().then(()=>{t.classList.remove(m),t.classList.add(h)}):(t.classList.remove(m),t.classList.add(h)),u?.emit("lazyLoad:loaded",o,t,e)}),t.addEventListener("error",()=>{u?.hideLoading(o),t.classList.remove(m),t.classList.add("has-lazyerror"),u?.emit("lazyLoad:error",o,t,e)}),t.classList.add("f-lazyload"),t.classList.add(m),u?.emit("lazyLoad:load",o,t,e),a&&(t.src=a),r&&(t.srcset=r),s&&(t.sizes=s)):d&&(document.body.contains(t)||(document.createElement("img").src=l),t.style.backgroundImage=`url('${l}')`),delete t.dataset.lazySrc,delete t.dataset.lazySrcset,delete t.dataset.lazySizes,delete t.dataset.lazyBg)}}}}(i)}}return{init:function(e){(u=e).on("render",t)},destroy:function(){u?.off("render",t),u=void 0}}},v={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"></path></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"></path></svg>'},Fe=()=>{let n,t,o;function i(){var e=n?.getOptions().Arrows;return ge(e)?{...v,...e}:v}function a(e){var t;if(n)return t=`<button data-carousel-go-${e} tabindex="0" class="f-button is-arrow is-${e}" title="{{${e.toUpperCase()}}}">`+i()[e+"Tpl"]+"</button",t=fe(n.localize(t))||void 0,t&&be(t,i()[e+"Class"]),t}function e(){t?.remove(),t=void 0,o?.remove(),o=void 0,n?.getContainer()?.classList.remove("has-arrows")}function r(){if(n&&!1!==n.getOptions().Arrows&&1<n.getPages().length){if(n){let e=n.getViewport();e&&(!t&&(t=a("prev"))&&e.insertAdjacentElement("beforebegin",t),!o&&(o=a("next"))&&e.insertAdjacentElement("afterend",o),Me(n.getContainer(),"has-arrows",!(!t&&!o)))}n&&(t?.toggleAttribute("aria-disabled",!n.canGoPrev()),o?.toggleAttribute("aria-disabled",!n.canGoNext()))}else e()}return{init:function(e){n=e.on(["change","refresh"],r)},destroy:function(){e(),n?.off(["change","refresh"],r),n=void 0}}},y={moveLeft:{tpl:'<button data-panzoom-action="moveLeft" class="f-button" title="{{MOVE_LEFT}}"><svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg></button>'},moveRight:{tpl:'<button data-panzoom-action="moveRight" class="f-button" title="{{MOVE_RIGHT}}"><svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg></button>'},moveUp:{tpl:'<button data-panzoom-action="moveUp" class="f-button" title="{{MOVE_UP}}"><svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg></button>'},moveDown:{tpl:'<button data-panzoom-action="moveDown" class="f-button" title="{{MOVE_DOWN}}"><svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg></button>'},zoomIn:{tpl:'<button data-panzoom-action="zoomIn" class="f-button" title="{{ZOOM_IN}}"><svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg></button>'},zoomOut:{tpl:'<button data-panzoom-action="zoomOut" class="f-button" title="{{ZOOM_OUT}}"><svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg></button>'},toggle1to1:{tpl:'<button data-panzoom-action="toggleFull" class="f-button" title="{{TOGGLE_FULL}}"><svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg></button>'},toggleFull:{tpl:'<button data-panzoom-action="toggleFull" class="f-button" title="{{TOGGLE_FULL}}"><svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg></button>'},rotateCCW:{tpl:'<button data-panzoom-action="rotateCCW" class="f-button" title="{{ROTATE_CCW}}"><svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg></button>'},rotateCW:{tpl:'<button data-panzoom-action="rotateCW" class="f-button" title="{{ROTATE_CW}}"><svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg></button>'},flipX:{tpl:'<button data-panzoom-action="flipX" class="f-button" title="{{FLIP_X}}"><svg><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg></button>'},flipY:{tpl:'<button data-panzoom-action="flipY" class="f-button" title="{{FLIP_Y}}"><svg><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg></button>'},reset:{tpl:'<button data-panzoom-action="reset" class="f-button" title="{{RESET}}"><svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg></button>'}},b=((t={}).Left="left",t.middle="middle",t.right="right",t),x={counter:{tpl:'<div class="f-carousel__counter"><span data-carousel-page></span>/<span data-carousel-pages></span></div>'},download:{tpl:'<button data-carousel-download class="f-button" title="{{DOWNLOAD}}"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></button>'},autoplay:{tpl:'<button data-autoplay-action="toggle" class="f-button" title="{{TOGGLE_AUTOPLAY}}"><svg><g><path d="M5 3.5 19 12 5 20.5Z"/></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},thumbs:{tpl:'<button data-thumbs-action="toggle" class="f-button" title="{{TOGGLE_THUMBS}}"><svg><rect width="18" height="14" x="3" y="3" rx="2"/><path d="M4 21h1M9 21h1M14 21h1M19 21h1"/></svg></button>'},...y},M={absolute:!1,display:{left:[],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY","reset"],right:[]},enabled:"auto",items:{}},De=()=>{let g,p;function m(){var e=g?.getOptions().Toolbar;return ge(e)?{...M,...e}:M}function t(){if(g?.getOptions().Toolbar&&g&&!p){let n=m().enabled;if(n){let e=m().absolute,t=1<g.getSlides().length,i=!1,a=!1;for(var o of g.getSlides())o.panzoomRef&&(i=!0),(o.downloadSrc||"image"===o.type&&o.src)&&(a=!0);var r=g.getPlugins().Thumbs?.isEnabled()||!1,s=t&&g.getPlugins().Autoplay||!1,l=g.getPlugins().Fullscreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled);if(n="auto"===n?i:n){(p=document.createElement("div")).classList.add("f-carousel__toolbar");var c,d=m().display,u=ve({},x,m().items);for(c of["left","middle","right"]){let e=d[c]||[],o=document.createElement("div");for(var f of(o.classList.add("f-carousel__toolbar__column"),o.classList.add("is-"+c),e)){let n;if(pe(f)){if("counter"===f&&!t||"autoplay"===f&&!s||y[f]&&!i||"fullscreen"===f&&!l||"thumbs"===f&&!r||"download"===f&&!a)continue;n=u[f]}if((n="object"==typeof f?f:n)&&n.tpl){let e=g.localize(n.tpl),t=fe(e=e.split("<svg>").join('<svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24">'));t&&("function"==typeof n.click&&g&&t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),"function"==typeof n.click&&g&&n.click(g,e)}),o.append(t))}}p.append(o)}p.childElementCount&&(!0===e&&p.classList.add("is-absolute"),g.getContainer()?.classList.add("has-toolbar"),g.getViewport()?.insertAdjacentElement("beforebegin",p))}}}}return{init:function(e){(g=e).on("initSlides",t)},destroy:function(){g?.off("initSlides",t),g?.getContainer()?.classList.remove("has-toolbar"),p?.remove(),p=void 0},add:function(e,t){x[e]=t},isEnabled:function(){return!!p}}},L={autoStart:!0,pauseOnHover:!0,showProgressbar:!0,timeout:2e3},_e=()=>{let o,e,i=!1,a=!1,r=!1,s=null;function l(e){let t=o?.getOptions().Autoplay,n=(ge(t)?{...L,...t}:L)[e];return n&&"function"==typeof n&&o?n(o):n}function c(){for(var e of o?.getPage()?.slides||[])if(0===e.state)return 1}function t(){clearTimeout(e),e=void 0}function n(){if(!(e||r||c())&&o?.isSettled()){if(o&&(f(),l("showProgressbar"))){let e=l("progressbarParentEl");var t,n;(e=!e&&o.getPlugins().Toolbar?.isEnabled()?o.getContainer():e)||!0===o.getPlugins().Toolbar?.isEnabled()||(n=o.getPages()[0]?.slides||[],t=o.getPage()?.slides||[],1===n.length&&1===t.length&&(e=t[0].el)),(e=e||o.getViewport())&&((s=document.createElement("div")).classList.add("f-progressbar"),e.prepend(s),n=l("timeout")||1e3,s.style.animationDuration=n+"ms")}e=setTimeout(()=>{o&&i&&!a&&(o.isInfinite()||o.getPageIndex()!==o.getPages().length-1?o.next():o.goTo(0))},l("timeout"))}}function d(){if(!(!o||o.getPages().length<2||!1===o.getOptions().Autoplay||i)){i=!0,o.emit("autoplay:start",l("timeout")),o.getContainer()?.classList.add("has-autoplay"),o.getTween()?.on("start",y);let e=o?.getContainer();e&&l("pauseOnHover")&&matchMedia("(hover: hover)").matches&&(e.addEventListener("mouseenter",b,!1),e.addEventListener("mouseleave",E,!1)),o.on("change",h),o.on("settle",v),o.on("contentReady",p),o.on("panzoom:animationStart",u),o.isSettled()&&n()}}function u(){if(t(),f(),i&&o){o.emit("autoplay:end"),o.getContainer()?.classList.remove("has-autoplay"),o.getTween()?.off("start",y);let e=o?.getContainer();e&&(e.removeEventListener("mouseenter",b,!1),e.removeEventListener("mouseleave",E,!1))}o&&(o.off("change",h),o.off("settle",v),o.off("contentReady",p),o.off("panzoom:animationStart",u)),i=!1,a=!1}function f(){s&&(s.remove(),s=null)}function g(){o&&1<o.getPages().length&&l("autoStart")&&d()}function p(e){!o||o.getPageIndex(e.index)!==o.getPageIndex()||!i||r||c()||n()}function m(e,t){var n=t.target;n&&!t.defaultPrevented&&"toggle"===n.dataset.autoplayAction&&w.toggle()}function h(){o&&(o?.isInfinite()||o.getPageIndex()!==o.getPages().length-1)?(f(),t()):u()}function v(){!i||r||a||n()}function y(){t(),f()}function b(){r=!0,i&&(f(),t())}function E(){r=!1,i&&!a&&o?.isSettled()&&n()}let w={init:function(e){(o=e).on("ready",g),o.on("click",m)},destroy:function(){u(),o?.off("ready",g),o?.off("click",m),o=void 0},isEnabled:()=>i,pause:function(){a=!0,t()},resume:function(){a=!1,i&&!r&&n()},start(){d()},stop(){u()},toggle(){(i?u:d)()}};return w},S={Carousel:{Lazyload:{showLoading:!1}},minCount:2,showOnStart:!0,thumbTpl:'<button aria-label="Slide to #{{page}}"><img draggable="false" alt="{{alt}}" data-lazy-src="{{src}}" /></button>',type:"modern"},He=()=>{let r,s,o,l=0,c=0,n=!0;function i(e){let t=r?.getOptions().Thumbs,n=(ge(t)?{...S,...t}:S)[e];return n&&"function"==typeof n?n():n}function a(){if(!r||!1===r?.getOptions().Thumbs)return!1;let e=0;for(var t of r.getSlides())t.thumbSrc&&e++;return e>=i("minCount")}function d(){return"modern"===i("type")}function u(e=!1){let t=r?.getContainer();if(r&&t&&!o&&a()){if(!o){let e=t.nextElementSibling;e?.classList.contains("f-thumbs")&&(o=e)}if(!o){o=document.createElement("div");let e=i("parentEl");e?e.insertAdjacentElement("beforeend",o):t.insertAdjacentElement("afterend",o)}var n=i("Carousel")?.classes;n?.container&&be(o,n.container),be(o,"f-thumbs"),be(o,"is-"+i("type")),be(o,"is-syncing"),e&&(o.style.maxHeight="0px")}}function f(e){var t=e.thumb?e.thumb instanceof HTMLImageElement?e.thumb.src:e.thumb:e.thumbSrc||void 0,n=void 0===e.thumbAlt?"Thumbnail #"+e.index:e.thumbAlt+"",o=i("thumbTpl"),o=E(o,"{{alt}}",n);return o=E(o,"{{src}}",t+""),o=E(o,"{{index}}",""+e.index),{html:E(o,"{{page}}",""+(e.index||1)),class:e.thumbClass}}function g(){if(w&&r&&o&&!s){let e=[];for(var t of r.getSlides())e.push(f(t));e.length&&((s=w(o,ve({},{Sync:{target:r},Lazyload:{preload:1},slides:e,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",slide:"f-thumbs__slide"},initialSlide:r.getOptions().initialPage,center:!0,fill:!d(),infinite:!1,dragFree:!0,rtl:r.getOptions().rtl||!1,slidesPerPage:e=>{let t=0;return d()&&(d()&&o&&(n=e=>o&&parseFloat(getComputedStyle(o).getPropertyValue("--f-thumb-"+e))||0,l=n("width"),c=n("clip-width")),t=4*(l-c)),e&&e.getTotalSlideDim()<=e.getViewportDim()-t?1/0:1;var n}},S.Carousel||{},i("Carousel")||{}),{Sync:Ie,Lazyload:ke})).on("ready",()=>{r?.emit("thumbs:ready")}),s.on("destroy",()=>{r?.emit("thumbs:destroy")}),s.init(),s.getGestures()?.on("start",()=>{n=!1}),s.on("click",(e,t)=>{let n=t.target;if(n){let e=n.matches("button")?n:n.firstElementChild;e&&e.matches("button")&&(t.preventDefault(),e.focus({preventScroll:!0}))}}),be(r.getContainer(),"has-thumbs"),b())}}function p(){a()&&i("showOnStart")&&(u(),g())}function m(){a()&&(r?.on("addSlide",t),r?.on("click",y),r?.getGestures()?.on("start",e))}function e(){n=!0,document.activeElement?.closest(".f-thumbs")&&document.activeElement?.blur()}function h(){if(o?.classList.toggle("is-syncing",!1===r?.hasNavigated()||r?.getTween()?.isRunning()),b(),r?.getGestures()?.isPointerDown()&&d()&&r&&s&&n){let e=s.getTween(),t=s.getPages(),n=r.getPageIndex()||0,o=r.getPageProgress()||0;var i,a;r&&t&&t[n]&&e&&(void 0!==(i=e.isRunning()?e.getCurrentValues().pos:s.getPosition())&&(a=t[n].pos+o*(l-c),a=ye(t[0].pos,a,t[t.length-1].pos),e.from({pos:i}).to({pos:a}).start()))}}function v(){n=!0}function t(e,t){s?.add(f(t),t.index)}function y(e,t){var n=t.target;n&&!t.defaultPrevented&&"toggle"===n.dataset.thumbsAction&&(o||(u(!0),g()),o&&(t=s?.isVertical()?"maxWidth":"maxHeight",o.style[t]?o.style[t]="":o.style[t]="0px"))}function b(){if(d()&&r&&s){let e=s?.getSlides()||[],n=-.5*l;for(var o of e){let t=o.el;if(t){let e=r.getPageProgress(o.index)||0;-1<(e=Math.max(-1,Math.min(1,e)))&&e<1&&(n+=.5*l*(1-Math.abs(e))),e=Math.round(1e4*e)/1e4,n=Math.round(1e4*n)/1e4,t.style.setProperty("--progress",""+Math.abs(e)),t.style.setProperty("--shift",`${r?.isRTL()?-1*n:n}px`),-1<e&&e<1&&(n+=.5*l*(1-Math.abs(e)))}}}}return{init:function(e,t){w=t,(r=e).on("ready",m),r.on("initSlides",p),r.on("render",h),r.on("change",v)},destroy:function(){r?.off("ready",m),r?.off("initSlides",p),r?.off("render",h),r?.off("change",v),r?.off("addSlide",t),r?.off("click",y),r?.getGestures()?.off("start",e),r?.getContainer()?.classList.remove("has-thumbs"),r=void 0,s?.destroy(),s=void 0,o?.remove(),o=void 0},getCarousel:function(){return s},getContainer:function(){return o},isEnabled:a}},T={iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"}},Ve=()=>{let r;function t(e,n){let o=n.src;if(pe(o)){let t=n.type;if(!t){if(t||("#"===o.charAt(0)?t="inline":o.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.((a)?png|avif|gif|jp(g|eg)|pjp(eg)?|jfif|svg|webp|bmp|ico|tif(f)?)((\?|#).*)?$)/i)?t="image":o.match(/\.(pdf)((\?|#).*)?$/i)?t="pdf":o.match(/\.(html|php)((\?|#).*)?$/i)&&(t="iframe")),!t){let e=o.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i);e&&(o=`https://maps.google.${e[1]}/?ll=${(e[2]?e[2]+"&z="+Math.floor(parseFloat(e[3]))+(e[4]?e[4].replace(/^\//,"&"):""):e[4]+"").replace(/\?/,"&")}&output=`+(e[4]&&0<e[4].indexOf("layer=c")?"svembed":"embed"),t="gmap")}if(!t){let e=o.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i);e&&(o=`https://maps.google.${e[1]}/maps?q=${e[2].replace("query=","q=").replace("api=1","")}&output=embed`,t="gmap")}n.src=o,n.type=t}}}function n(e,n){if("iframe"===n.type||"pdf"===n.type||"gmap"===n.type){var o=n;if(r&&o.el&&o.src){let e=document.createElement("iframe");for(var[i,a]of(e.classList.add("f-iframe"),Object.entries((n=r?.getOptions().Html,(ge(n)?{...T,...n}:T).iframeAttr||{}))))e.setAttribute(i,a);e.onerror=()=>{r&&1===r.getState()&&r.showError(o,"{{IFRAME_ERROR}}")},e.src=o.src;let t=document.createElement("div");if(t.classList.add("f-html"),t.append(e),o.width){let e=""+o.width;e.match(/^\d+$/)&&(e+="px"),t.style.maxWidth=""+e}if(o.height){let e=""+o.height;e.match(/^\d+$/)&&(e+="px"),t.style.maxHeight=""+e}o.aspectRatio&&(n=o.el.getBoundingClientRect(),t.style.aspectRatio=""+o.aspectRatio,t.style[n.width>n.height?"width":"height"]="auto",t.style[n.width>n.height?"maxWidth":"maxHeight"]="none"),o.contentEl=e,o.htmlEl=t,o.el.classList.add("has-html"),o.el.classList.add("has-iframe"),o.el.classList.add("has-"+o.type),o.el.prepend(t),r.emit("contentReady",o)}}}function o(e,t){"iframe"!==t.type&&"pdf"!==t.type&&"gmap"!==t.type||(r?.hideError(t),t.contentEl?.remove(),t.contentEl=void 0,t.htmlEl?.remove(),t.htmlEl=void 0)}return{init:function(e){(r=e).on("addSlide",t),r.on("attachSlideEl",n),r.on("detachSlideEl",o)},destroy:function(){r?.off("addSlide",t),r?.off("attachSlideEl",n),r?.off("detachSlideEl",o),r=void 0}}},R=(e,t={})=>{let n=new URLSearchParams(new URL(e).search),o=new URLSearchParams;for(var[i,a]of[...n,...Object.entries(t)]){let e=a+"";"t"===i?(a=e.match(/((\d*)m)?(\d*)s?/))&&o.set("start",60*parseInt(a[2]||"0")+parseInt(a[3]||"0")+""):o.set(i,e)}let r=o+"",s=e.match(/#t=((.*)?\d+s)/);return s&&(r+="#t="+s[1]),r},P={autoplay:!1,html5videoTpl:`<video class="f-html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
    <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""},vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},je=()=>{let s,t=!1;function l(){var e=s?.getOptions().Video;return ge(e)?{...P,...e}:P}function o(){return s?.getPage()?.slides[0]}let n=e=>{try{var t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===t.event)for(var n of Array.from(s?.getContainer()?.getElementsByClassName("f-iframe")||[]))n instanceof HTMLIFrameElement&&n.contentWindow===e.source&&(n.dataset.ready="true")}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===t.event){let e=document.getElementById(t.id);e&&(e.dataset.ready="true")}}catch(e){}};function i(e,t){let n=t.src;if(pe(n)){let e=t.type;var o,i,a;e&&"html5video"!==e||(i=n.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))&&(e="html5video",t.html5videoFormat=t.html5videoFormat||"video/"+("ogv"===i[1]?"ogg":i[1])),e&&"youtube"!==e||(i=n.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i))&&(a=`www.youtube${(o={...l().youtube,...t.youtube||{}}).nocookie?"-nocookie":""}.com`,o=R(n,o),i=encodeURIComponent(i[2]),t.videoId=i,t.src=`https://${a}/embed/${i}?`+o,t.thumb=t.thumb||`https://i.ytimg.com/vi/${i}/mqdefault.jpg`,e="youtube"),e&&"vimeo"!==e||(a=n.match(/^.+vimeo.com\/(?:\/)?(video\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/))&&(o=R(n,{...l().vimeo,...t.vimeo||{}}),i=encodeURIComponent(a[2]),a=a[5]||"",t.videoId=i,t.src=`https://player.vimeo.com/video/${i}?`+(a?"h="+a+(o?"&":""):"")+o,e="vimeo"),t.type=e}}function a(e,t){if("html5video"===t.type){var i=t;if(s&&i.el&&i.src){let{el:n,src:o}=i;if(n&&o){let e=i.html5videoTpl||l().html5videoTpl,t=i.html5videoFormat||l().html5videoFormat;if(e){var a=i.poster||(i.thumb&&pe(i.thumb)?i.thumb:""),a=fe(e.replace(/\{\{src\}\}/gi,o+"").replace(/\{\{format\}\}/gi,t||"").replace(/\{\{poster\}\}/gi,a+""));if(a){let e=document.createElement("div");e.classList.add("f-html"),e.append(a),i.contentEl=a,i.htmlEl=e,n.classList.add("has-"+i.type),n.prepend(e),u(i),s.emit("contentReady",i)}}}}}if("youtube"===t.type||"vimeo"===t.type){var n=t;if(s&&n.el&&n.src){let e=document.createElement("iframe");for(var[o,r]of(e.classList.add("f-iframe"),e.setAttribute("id","f-iframe_"+n.videoId),Object.entries(l().iframeAttr||{})))e.setAttribute(o,r);e.onload=()=>{s&&1===s.getState()&&"youtube"===n.type&&e.contentWindow?.postMessage(JSON.stringify({event:"listening",id:e.getAttribute("id")}),"*")},e.onerror=()=>{s&&1===s.getState()&&s?.showError(n,"{{IFRAME_ERROR}}")},e.src=n.src;let t=document.createElement("div");t.classList.add("f-html"),t.append(e),n.contentEl=e,n.htmlEl=t,n.el.classList.add("has-html"),n.el.classList.add("has-iframe"),n.el.classList.add("has-"+n.type),n.el.prepend(t),u(n),s.emit("contentReady",n)}}}function r(e,t){"html5video"!==t.type&&"youtube"!==t.type&&"vimeo"!==t.type||(t.contentEl?.remove(),t.contentEl=void 0,t.htmlEl?.remove(),t.htmlEl=void 0),t.poller&&clearTimeout(t.poller)}function c(){t=!1}function d(){if(!t){t=!0;var e=o();if((e&&void 0!==e.autoplay?e:l()).autoplay){{let e=o(),n=e?.el;if(n&&"html5video"===e?.type)try{let t=n.querySelector("video");if(t){let e=t.play();void 0!==e&&e.then(()=>{}).catch(e=>{t.muted=!0,t.play()})}}catch(e){}let t=e?.htmlEl;t instanceof HTMLIFrameElement&&t.contentWindow?.postMessage('{"event":"command","func":"stopVideo","args":""}',"*")}{let t=o(),e=t?.type;if(t?.el&&("youtube"===e||"vimeo"===e)){let e=()=>{if(t.contentEl&&t.contentEl instanceof HTMLIFrameElement&&t.contentEl.contentWindow){let e;if("true"===t.contentEl.dataset.ready)return(e="youtube"===t.type?{event:"command",func:"playVideo"}:{method:"play",value:"true"})&&t.contentEl.contentWindow.postMessage(JSON.stringify(e),"*"),void(t.poller=void 0);"youtube"===t.type&&(e={event:"listening",id:t.contentEl.getAttribute("id")},t.contentEl.contentWindow.postMessage(JSON.stringify(e),"*"))}t.poller=setTimeout(e,250)};e()}}}}}function u(o){let i=o?.htmlEl;if(o&&i&&("html5video"===o.type||"youtube"===o.type||"vimeo"===o.type)){if(i.style.aspectRatio="",i.style.width="",i.style.height="",i.style.maxWidth="",i.style.maxHeight="",o.width){let e=""+o.width;e.match(/^\d+$/)&&(e+="px"),i.style.maxWidth=""+e}if(o.height){let e=""+o.height;e.match(/^\d+$/)&&(e+="px"),i.style.maxHeight=""+e}if(o.aspectRatio){let e=o.aspectRatio.split("/"),t=parseFloat(e[0].trim()),n=e[1]?parseFloat(e[1].trim()):0;i.offsetHeight;var a=i.getBoundingClientRect(),a=(t&&n?t/n:t)<(a.width||1)/(a.height||1);i.style.aspectRatio=""+o.aspectRatio,i.style.width=a?"auto":"",i.style.height=a?"":"auto"}}}function f(){u(o())}return{init:function(e){(s=e).on("addSlide",i),s.on("attachSlideEl",a),s.on("detachSlideEl",r),s.on("ready",d),s.on("change",c),s.on("settle",d),s.on("refresh",f),window.addEventListener("message",n)},destroy:function(){s?.off("addSlide",i),s?.off("attachSlideEl",a),s?.off("detachSlideEl",r),s?.off("ready",d),s?.off("change",c),s?.off("settle",d),s?.off("refresh",f),window.removeEventListener("message",n),s=void 0}}},C={autoStart:!1,btnTpl:'<button data-fullscreen-action="toggle" class="f-button" title="{{TOGGLE_FULLSCREEN}}"><svg><g><path d="M8 3H5a2 2 0 0 0-2 2v3M21 8V5a2 2 0 0 0-2-2h-3M3 16v3a2 2 0 0 0 2 2h3M16 21h3a2 2 0 0 0 2-2v-3"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},W="in-fullscreen-mode",Ne=()=>{let o;function t(e){let t=o?.getOptions().Fullscreen,n=(ge(t)?{...C,...t}:C)[e];return n&&"function"==typeof n&&o?n(o):n}function n(){o?.getPlugins().Toolbar?.add("fullscreen",{tpl:t("btnTpl")})}function i(){var e;t("autoStart")&&(e=r())&&l(e)}function a(e,t){var n=t.target;n&&!t.defaultPrevented&&"toggle"===n.dataset.fullscreenAction&&d()}function e(e){r()&&"Escape"===e.key&&!e.defaultPrevented&&d()}function r(){return t("el")||o?.getContainer()||void 0}function s(){var e=document;return e.fullscreenEnabled?!!e.fullscreenElement:!!e.webkitFullscreenEnabled&&!!e.webkitFullscreenElement}function l(e){let t,n=document;return e=e||n.documentElement,n.fullscreenEnabled?t=e.requestFullscreen():n.webkitFullscreenEnabled&&(t=e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),t&&t.then(()=>{e.classList.add(W)}),t}function c(){let e,t=document;return t.fullscreenEnabled?e=t.fullscreenElement&&t.exitFullscreen():t.webkitFullscreenEnabled&&(e=t.webkitFullscreenElement&&t.webkitExitFullscreen()),e&&e.then(()=>{r()?.classList.remove(W)}),e}function d(){var e=r();e&&(s()?c():l(e))}return{init:function(e){(o=e).on("initPlugins",n),o.on("ready",i),o.on("click",a)},destroy:function(){o?.off("initPlugins",n),o?.off("ready",i),o?.off("click",a),document.removeEventListener("keydown",e,!0)},exit:c,inFullscreen:s,request:l,toggle:d}},B=!1,Z=!1,c=!1,qe=!1,$e=()=>{let e=new URL(document.URL).hash,t=e.slice(1).split("-"),n=t[t.length-1],o=n&&/^\+?\d+$/.test(n)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:o}},We=()=>{if(i&&!i.getInstance()){var{slug:t,index:n}=$e();if(t){let e=document.querySelector(`[data-slug="${t}"]`);e&&e.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),i&&!i.getInstance()&&(t=document.querySelectorAll(`[data-fancybox="${t}"]`)).length&&(e=t[n-1])&&e.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))}}},Be=()=>{if(i&&!c){let e=i?.getInstance();var t,n,o;!1!==e?.getOptions().Hash&&({slug:t,index:n}=$e(),o=e?.getSlide()?.fancybox||e?.getSlide()?.slug||void 0,e&&o&&(t===o?e.getCarousel()?.goTo(n-1):(qe=!0,e.close(),qe=!1)),We())}},Ze=()=>{i&&setTimeout(()=>{B=!0,We(),B=!1,window.addEventListener("hashchange",Be,!1)},300)},Ye=()=>{let a,r="auto",s="";function t(){if(a&&a.isTopMost()&&!1!==a.getOptions().Hash){let e=a.getCarousel();if(e){var{hash:t,slug:n}=$e(),o=a.getSlide();if(o){var i=o.fancybox||"",o=parseInt(o.index+"",10)+1;if(i){o=`#${i}-`+o;if(t!==o&&(s=t),history.scrollRestoration&&(r=history.scrollRestoration,history.scrollRestoration="manual"),e.on("change",l),!B)if(i===n)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+o)}catch(e){}else try{window.history.pushState({},document.title,window.location.pathname+window.location.search+o),Z=!0}catch(e){}}}}}}function l(){if(a&&a.isTopMost()&&!1!==a.getOptions().Hash){var e=$e()["slug"],t=a.getSlide();if(t){var n=t.fancybox||"",t=`#${n}-`+(t.index+1);if(n===e){c=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+t)}catch(e){}c=!1}}}}function n(){if(!qe&&a&&a.isTopMost()&&!1!==a.getOptions().Hash){var e=a.getSlide();if(e&&e.fancybox){c=!0;try{!Z||B||function(){if(window.parent!==window){try{var t=window.frameElement}catch(e){t=null}return null===t?"data:"===location.protocol:t.hasAttribute("sandbox")}}()?window.history.replaceState({},document.title,window.location.pathname+window.location.search+s):window.history.back()}catch(e){}c=!1}}}return{init:function(e){(a=e).on("ready",t),a.on("close",n)},destroy:function(){a?.off("ready",t),a?.off("close",n);let e=a?.getCarousel();e&&e.off("change",l),a=void 0,history.scrollRestoration&&r&&(history.scrollRestoration=r)}}},Xe=(Ye.startFromUrl=We,Ye.setup=function(e){i||(i=e,o()&&(/complete|interactive|loaded/.test(document.readyState)?Ze():document.addEventListener("DOMContentLoaded",Ze)))},{...d,CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ELEMENT_NOT_FOUND:"HTML Element Not Found",IFRAME_ERROR:"Error Loading Page"}),Ge='<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="M19.286 4.714 4.714 19.286M4.714 4.714l14.572 14.572" /></svg></button>',Ue=(De().add("close",{tpl:Ge}),e=>{e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}),Ke=(n=null,o="",i)=>{if(n&&n.parentElement&&o){Ue(n);let t=e=>{e.target===n&&n.dataset.animationName&&(n.removeEventListener("animationend",t),delete n.dataset.animationName,i&&i(),n.classList.remove(o))};n.dataset.animationName=o,n.addEventListener("animationend",t),be(n,o)}else i&&i()},Q=((t={})[t.Init=0]="Init",t[t.Ready=1]="Ready",t[t.Closing=2]="Closing",t[t.Destroyed=3]="Destroyed",t),ee={ajax:null,backdropClick:"close",Carousel:{},closeButton:"auto",closeExisting:!1,delegateEl:void 0,dragToClose:!0,fadeEffect:!0,groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,id:void 0,idle:!1,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Xe,mainClass:"",mainStyle:{},mainTpl:`<dialog class="fancybox__dialog">
    <div class="fancybox__container" tabindex="0" aria-label="{{MODAL}}">
      <div class="fancybox__backdrop"></div>
      <div class="fancybox__carousel"></div>
    </div>
  </dialog>`,on:{},parentEl:void 0,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,sync:void 0,theme:"dark",triggerEl:void 0,triggerEvent:void 0,zoomEffect:!0},te=new Map,Je=0,Qe="with-fancybox",ne={Plugins:{Hash:Ye},version:"6.0.22",openers:new Map,bind:function(i,a,r){if(o()){let e=document.body,t="[data-fancybox]",n={};if(pe(i)?(e=document.body,t=i,"object"==typeof a&&(n=a||{})):i instanceof Element&&(e=i,pe(a)&&(t=a),"object"==typeof r&&(n=r||{})),!(e&&e instanceof Element&&t))return!1;let o=ne.openers.get(e)||new Map;if(o.set(t,n),ne.openers.set(e,o),1===o.size)for(var s of(e.addEventListener("click",ne.fromEvent),Object.values(ne.Plugins))){let e=s.setup;"function"==typeof e&&e(ne)}return!0}},close:function(e=!0,...t){if(e)for(var n of te.values())n.close(...t);else{let e=ne.getInstance();e&&e.close(...t)}},destroy:function(){let e;for(;e=ne.getInstance();)e.destroy();for(var t of ne.openers.keys())t.removeEventListener("click",ne.fromEvent);ne.openers.clear()},fromEvent:function(s){let l,c;if(!(s.defaultPrevented||s.button&&0!==s.button||s.ctrlKey||s.metaKey||s.shiftKey)){let r=s.composedPath()[0];if(r.closest(".fancybox__container.is-hiding"))return s.preventDefault(),void s.stopPropagation();var d=r.closest("[data-fancybox-delegate]")||void 0;if(d&&(g=d.dataset.fancyboxDelegate||"",g=document.querySelectorAll(`[data-fancybox="${g}"]`),r=g[parseInt(d.dataset.fancyboxIndex||"",10)||0]||g[0]),r&&r instanceof Element){var t,e,u={};for([t,e]of ne.openers)if(e&&t.contains(r))for(var[n,o]of e){let e=null;try{e=r.closest(n)}catch(s){}e&&(r=e,l=t,c=n,ve(u,o||{}))}if(l&&c){s.preventDefault();let n=ve({},ee,{triggerEvent:s,triggerEl:r,delegateEl:d},u),e=n.groupAll,t=n.groupAttr,o=t&&r?r.getAttribute(""+t):"",i=[],a=r.closest(".f-carousel")?.carousel;if(a){let t=[];for(var f of a?.getSlides()){let e=f.el;e&&(e.matches(c)?t.push(e):t.push(...[].slice.call(e.querySelectorAll(c))))}t.length&&(i=[...t],a.getPlugins().Autoplay?.pause(),a.getPlugins().Autoscroll?.pause(),n.sync=a)}else r&&!o&&!e||(i=[].slice.call(l.querySelectorAll(c)));if((i=r&&!e?o?i.filter(e=>e.getAttribute(""+t)===o):[r]:i).length){let e=ne.getInstance();if(e){var g=e.getOptions().triggerEl;if(g&&-1<i.indexOf(g))return}return{...n.Carousel||{}}.rtl&&(i=i.reverse()),r&&(n.startIndex=i.indexOf(r)),ne.fromNodes(i,n)}}}}},fromNodes:function(r,s){s=ve({},ee,s||{});let l=[],c=e=>e instanceof HTMLImageElement?e:e instanceof HTMLElement?e.querySelector("img:not([aria-hidden])"):void 0;for(var d of r){let t=d.dataset||{},e=s.delegateEl&&r.indexOf(d)===s.startIndex?s.delegateEl:void 0,n=c(e)||c(d)||void 0,o=t.src||d.getAttribute("href")||d.getAttribute("currentSrc")||d.getAttribute("src")||void 0,i=t.thumb||t.thumbSrc||n?.getAttribute("currentSrc")||n?.getAttribute("src")||n?.dataset.lazySrc||void 0,a={src:o,alt:t.alt||n?.getAttribute("alt")||void 0,thumbSrc:i,thumbEl:n,triggerEl:d,delegateEl:e};for(var u in t){let e=t[u]+"";e="false"!==e&&("true"===e||e),a[u]=e}l.push(a)}return ne.show(l,s)},fromSelector:function(e,t,n){let o=document.body,i="",a={};if(pe(e)?i=e:e instanceof Element&&(o=e,pe(t)&&(i=t),"object"==typeof n&&(a=n||{})),o&&o instanceof Element&&i){let e=ne.openers.get(o);return e&&(a=ve({},e.get(i)||{},a))?ne.fromNodes(Array.from(o.querySelectorAll(i)),a):void 0}},getCarousel:function(){return ne.getInstance()?.getCarousel()||void 0},getDefaults:function(){return ee},getInstance:function(t){if(t){let e=te.get(t);return e&&e.getState()!==Q.Destroyed?e:void 0}return Array.from(te.values()).reverse().find(e=>{if(e.getState()!==Q.Destroyed)return e})||void 0},getSlide:function(){return ne.getInstance()?.getSlide()||void 0},show:function(e=[],t={}){return(()=>{let c,D,t,d,u,f,g=Q.Init,p={...ee},m=-1,h={},v,n=!1,s=!0,y=0;function b(e,...t){let n=p[e];return n&&"function"==typeof n?n(F,...t):n}function E(t,n=[]){let o=b("l10n")||{};t=String(t).replace(/\{\{(\w+)\}\}/g,(e,t)=>o[t]||e);for(let e=0;e<n.length;e++)t=t.split(n[e][0]).join(n[e][1]);return t.replace(/\{\{(.*?)\}\}/g,(e,t)=>t)}let r=new Map;function w(e,...t){let n=[...r.get(e)||[]];for(var[o,i]of Object.entries(p.on||{}))(o===e||-1<o.split(" ").indexOf(e))&&n.push(i);for(var a of n)a&&"function"==typeof a&&a(F,...t);"*"!==e&&w("*",e,...t)}function x(){xe(u,"is-revealing");try{document.activeElement===d&&(u?.querySelector("[autofocus]")||u).focus()}catch(e){}}function _(e,t){t.el?.addEventListener("click",j)}function H(e,t){if(l(t),"inline"===t.type||"clone"===t.type){var n=t;if(c&&n&&n.el){let t=null;if(pe(n.src)&&(a=n.src.split("#",2).pop(),t=a?document.getElementById(a):null),t){if(be(t,"f-html"),"clone"===n.type||t.closest(".fancybox__carousel")){var a=(t=t.cloneNode(!0)).dataset.animationName;a&&(t.classList.remove(a),delete t.dataset.animationName);let e=t.getAttribute("id");e=e?e+"--clone":`clone-${m}-`+n.index,t.setAttribute("id",e)}else if(t.parentNode){let e=document.createElement("div");e.inert=!0,t.parentNode.insertBefore(e,t),n.placeholderEl=e}n.htmlEl=t,be(n.el,"has-html"),n.el.prepend(t),t.classList.remove("hidden"),"none"===t.style.display&&(t.style.display=""),"none"===getComputedStyle(t).getPropertyValue("display")&&(t.style.display=t.dataset.display||"flex"),c?.emit("contentReady",n)}else c?.showError(n,"{{ELEMENT_NOT_FOUND}}")}}if("ajax"===t.type){var r=t;let i=r.el;if(i&&!r.htmlEl&&!r.xhr){c?.showLoading(r),r.state=Y.Loading;let o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE&&g===Q.Ready)if(c?.hideLoading(r),r.state=Y.Loaded,200===o.status){let t=o.responseText+"",e=null,n=null;if(r.filter){let e=document.createElement("div");e.innerHTML=t,n=e.querySelector(r.filter+"")}n&&n instanceof HTMLElement?e=n:(e=document.createElement("div")).innerHTML=t,e.classList.add("f-html"),r.htmlEl=e,i.classList.add("has-html"),i.classList.add("has-ajax"),i.prepend(e),c?.emit("contentReady",r)}else c?.showError(r)};a=b("ajax")||null;o.open(a?"POST":"GET",r.src+""),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(a),r.xhr=o}}}function V(e,n){if((o=n).closeButtonEl&&(o.closeButtonEl.remove(),o.closeButtonEl=void 0),"inline"===n.type||"clone"===n.type){var o=n;let e=o.htmlEl,t=o.placeholderEl;e&&("none"!==getComputedStyle(e).getPropertyValue("display")&&(e.style.display="none"),e.offsetHeight),t&&(e&&t.parentNode&&t.parentNode.insertBefore(e,t),t.remove()),o.htmlEl=void 0,o.placeholderEl=void 0}n.xhr&&(n.xhr.abort(),n.xhr=void 0)}function j(t){if(S()){if(g!==Q.Ready)return t.preventDefault(),void t.stopPropagation();if(!t.defaultPrevented&&we.isClickAllowed()){let e=t.composedPath()[0];e.closest(".fancybox__carousel")&&e.classList.contains("fancybox__slide")&&i(t)}}}function N(){s=!1,u&&c&&u.classList.remove("is-revealing");let e=b("sync");var t;c&&e&&(t=e.getPageIndex(c.getPageIndex())||0,e.goTo(t,{transition:!1}))}function q(){if(g===Q.Ready){if(L(T()),b("dragToClose")&&c){var t=c.getViewport();if(t){let e=we(t).init();if(e){let n=0,o=0,i=Ee().on("step",e=>{n=e.y;let t=c?.getViewport();u&&t&&(e=Ce(Math.abs(n),0,.5*t.getBoundingClientRect().height,1,.5),u.style.setProperty("--f-drag-opacity",e+""),u.style.setProperty("--f-drag-offset",n+"px"))}).on("end",()=>{if(!n){u&&u.style.removeProperty("--f-opacity");let e=c?.getViewport();e&&(e.style.transform="")}});e.on("start",function(){i.pause()}).on("panstart",e=>{e=e.srcEvent.target;e&&!he(e)&&c?.getViewport()?.classList.add("is-dragging")}).on("pan",function(e){var t=e.srcEvent.target;t&&he(t)||!c?.getViewport()||"y"!==e.axis||(o+=e.deltaY,i.spring({clamp:!0,mass:1,tension:860,friction:17,restDelta:.01,restSpeed:.01}).from({y:n}).to({y:o}).start())}).on("end",function(e){i.pause(),"y"===e.axis&&5<Math.abs(e.velocityY)&&0<Math.abs(o)&&(I(e.srcEvent,"f-throwOut"+(0<e.velocityY?"Down":"Up")),g===Q.Closing)||0!==o&&(o=0,i.spring({clamp:!0,mass:1,tension:140,friction:25,restDelta:.1,restSpeed:.1,maxSpeed:1/0}).from({y:n}).to({y:o}).start())})}}}document.body.addEventListener("click",a),document.body.addEventListener("keydown",o,{passive:!1,capture:!0}),O();let e=b("sync");e&&e.getTween()?.start()}}function $(){(c?.canGoNext()?O:z)()}function W(e,t){l(t),L(t)}function M(){let e=c?.getPlugins().Thumbs;Me(u,"has-thumbs",e?.isEnabled()||!1),Me(u,"has-vertical-thumbs",e?.getCarousel()?.isVertical()||!1)}function i(e){if(e.composedPath()[0].closest("[data-fancybox-close]"))return I(e);w("backdropClick",e),!e.defaultPrevented&&b("backdropClick")&&I(e)}function e(){B()}function o(e){if(S()&&g===Q.Ready){var t=e.key,n=b("keyboard");if(n&&!e.ctrlKey&&!e.altKey&&!e.shiftKey){var o=e.composedPath()[0];if(!(!me(o)||"Escape"!==t&&(i="input,textarea,select,option,video,iframe,[contenteditable],[data-selectable],[data-draggable]",(o=o).matches(i)||o.closest(i))||(w("keydown",e),e.defaultPrevented))){var i,o=n[t];if(o)switch(o){case"close":I(e);break;case"next":e.preventDefault(),c?.next();break;case"prev":e.preventDefault(),c?.prev()}}}}}function a(o){if(S()&&g===Q.Ready&&(B(),!o.defaultPrevented)){let e=o.composedPath()[0],t=!!e.closest("[data-fancybox-close]"),n=e.classList.contains("fancybox__backdrop");(t||n)&&i(o)}}function l(t){let{el:n,htmlEl:o,closeButtonEl:e}=t;if(n&&o&&!e){let e=b("closeButton");var i;(e="auto"===e?!0!==c?.getPlugins().Toolbar?.isEnabled():e)&&(i=fe(E(Ge)))&&(t.closeButtonEl=o.insertAdjacentElement("afterbegin",i),n.classList.add("has-close-btn"))}}function L(o){if(s&&c&&c.getState()===Se.Ready&&o&&o.index===c.getOptions().initialPage&&o.el&&o.el.parentElement&&(void 0===o.state||o.state===Y.Loaded)){s=!1;let e=o.panzoomRef,t=e?.getTween(),n=b("zoomEffect")?P(o):void 0;var i,a;if(e&&t&&n)return i=e.getScale("base")||1,{x:r,y:a}=e.getMousemovePos(i)||{x:0,y:0},void t.spring({tension:225,friction:25,restDelta:.001,restSpeed:.001,maxSpeed:1/0}).from(n).to({x:r,y:a,scale:i}).start();var r=e?.getWrapper()||o.htmlEl;r&&Ke(r,b("showClass",o))}}function S(){return ne.getInstance()?.getId()===m}function T(){return c?.getPage()?.slides[0]}function R(){var e=T();return e?e.triggerEl||b("triggerEl"):void 0}function P(r){var s,l,c,d,u=r.panzoomRef?.getWrapper()?.getBoundingClientRect(),f=u?.width,g=u?.height;if(f&&g){let a=r.thumbEl;if(a){let e=a.getBoundingClientRect(),t=e.width,n=e.height,o=e.left,i=e.top;if(e&&t&&n&&(e=>{let t=e.getBoundingClientRect(),n=e.closest("[style]"),o=n?.parentElement;if(n&&n.style.transform&&o){e=o.getBoundingClientRect();if(t.left<e.left||t.left>e.left+e.width-t.width||t.top<e.top||t.top>e.top+e.height-t.height)return!1}var e=Math.max(document.documentElement.clientHeight,window.innerHeight),i=Math.max(document.documentElement.clientWidth,window.innerWidth);return!(t.bottom<0||0<=t.top-e||t.right<0||0<=t.left-i)})(a))if(a instanceof HTMLImageElement&&("contain"!==(r=window.getComputedStyle(a).getPropertyValue("object-fit"))&&"scale-down"!==r||({width:l,height:c}=([r,s,l,c,d="contain"]=[a.naturalWidth,a.naturalHeight,t,n,r],("contain"===d||l<r||c<s)&&(r*=d=Math.min(l/r,c/s),s*=d),{width:r,height:s}),o+=.5*(t-l),i+=.5*(n-c),t=l,n=c)),!(.1<Math.abs(f/g-t/n)))return{x:o+.5*t-(u.left+.5*f),y:i+.5*n-(u.top+.5*g),scale:t/f}}}}function C(){t&&clearTimeout(t),t=void 0,document.removeEventListener("mousemove",e)}function O(){var e;n||t||(e=b("idle"))&&(t=setTimeout(A,e))}function A(){u&&(C(),be(u,"is-idle"),document.addEventListener("mousemove",e),n=!0)}function B(){n&&(z(),O())}function z(){C(),u?.classList.remove("is-idle"),n=!1}function I(t,n){if(g!==Q.Closing&&g!==Q.Destroyed){var e=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(w("shouldClose",e,t),!e.defaultPrevented){if(C(),t){if(t.defaultPrevented)return;t.cancelable&&t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}if(g=Q.Closing,D?.pause(),c){c.getGestures()?.destroy(),c.getTween()?.pause();let e=T(),t=e?.panzoomRef;for(var o of(e&&t&&ve(t.getOptions(),{clickAction:!1,wheelAction:!1,bounds:!1,minScale:0,maxScale:1/0}),c.getSlides()))o.panzoomRef?.getGestures()?.destroy(),o.panzoomRef?.getTween()?.pause()}let e=c?.getPlugins().fullscreen;e&&e.inFullscreen()?Promise.resolve(e.exit()).then(()=>{setTimeout(()=>{Z(t,n)},150)}):Z(t,n)}}}function Z(r,s){if(g===Q.Closing){if(w("close",r),b("placeFocusBack")){let e=R();!e||0<(r=e.getBoundingClientRect()).bottom&&0<r.right&&r.left<(window.innerWidth||document.documentElement.clientWidth)&&r.top<(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView({behavior:"instant",block:"center",inline:"center"})}b("fadeEffect")&&(u?.classList.remove("is-ready"),u?.classList.add("is-hiding")),u?.classList.add("is-closing");let t=T(),n=t?.panzoomRef,o=t?.panzoomRef?.getTween(),e=s||b("hideClass"),i=!1,a=!1;if(c&&t&&n&&o){let e;(e=b("zoomEffect")&&(c.getTween()?.getCurrentVelocities()?.pos||0)<700&&t.state===Y.Loaded?P(t):e)&&(i=!0,c.on("refresh",()=>{var e=P(t);e&&o.to({...K,...e})}),o.easing(Ee.Easings.EaseOut).duration(350).from({...n.getTransform()}).to({...K,...e}).start())}r=t?.htmlEl||t?.panzoomRef?.getWrapper();r&&Ue(r),!i&&e&&r&&(a=!0,Ke(r,e,()=>{k()})),i||a?setTimeout(()=>{k()},350):k()}}function k(){if(g!==Q.Destroyed){g=Q.Destroyed,document.body.removeEventListener("click",a),document.body.removeEventListener("keydown",o,{passive:!1,capture:!0});let e=R();for(var t of(w("destroy"),b("sync")?.getPlugins().Autoplay?.resume(),b("sync")?.getPlugins().Autoscroll?.resume(),d instanceof HTMLDialogElement&&d.close(),c?.getContainer()?.classList.remove("is-idle"),c?.destroy(),Object.values(h)))t?.destroy();if(h={},d?.remove(),d=void 0,u=void 0,c=void 0,te.delete(m),!te.size&&(ie(!1),document.documentElement.classList.remove(Qe),b("placeFocusBack")))try{e?.focus({preventScroll:!0})}catch(e){}}}let F={close:I,destroy:k,getCarousel:function(){return c},getContainer:function(){return u},getId:function(){return m},getOptions:function(){return p},getPlugins:function(){return h},getSlide:T,getState:function(){return g},init:function(t=[],n={}){{var[t=[],n={}]=[t,n],o,i;g!==Q.Init&&(F.destroy(),g=Q.Init),p=ve({},ee,n),m=b("id")||"fancybox-"+ ++Je;let e=te.get(m);e&&e.destroy(),te.set(m,F),w("init");for([o,i]of Object.entries({...ne.Plugins,...p.plugins||{}}))if(o&&!h[o]&&i instanceof Function){let e=i();e.init(F),h[o]=e}w("initPlugins"),[n=[]]=[t],w("initSlides",n),v=[...n];{let e=b("parentEl")||document.body;if(e&&e instanceof HTMLElement&&(d=fe(E(b("mainTpl")||""))||void 0)&&d instanceof HTMLDialogElement&&(u=d.querySelector(".fancybox__container"))&&u instanceof HTMLElement){t=b("mainClass"),t=(t&&be(u,t),b("mainStyle"));if(t&&ge(t))for(var[a,r]of Object.entries(t))u.style.setProperty(a,r);t=b("theme"),t="auto"===t?window.matchMedia("(prefers-color-scheme:light)").matches:"light"===t;u.setAttribute("theme",t?"light":"dark"),d.setAttribute("id",""+m),d.addEventListener("keydown",e=>{"Escape"===e.key&&e.preventDefault()}),d.addEventListener("wheel",e=>{let t=e.target,n=b("wheel",e);var o="slide"===(n=t.closest(".f-thumbs")?"slide":n),i=Math.max(-1,Math.min(1,[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e}))),a=Date.now();y&&a-y<300?o&&e.preventDefault():(y=a,w("wheel",e,i),e.defaultPrevented||("close"===n?I(e):"slide"===n&&c&&!he(t)&&(e.preventDefault(),c[0<i?"prev":"next"]())))},{capture:!0,passive:!1}),d.addEventListener("cancel",e=>{I(e)}),e.append(d),1===te.size&&(b("hideScrollbar")&&ie(!0),document.documentElement.classList.add(Qe)),d.showModal(),w("initLayout")}}if((f=d?.querySelector(".fancybox__carousel")||void 0)&&(n=ve({},{Autoplay:{autoStart:!1,pauseOnHover:!1,progressbarParentEl:e=>{let t=e.getContainer();return t?.querySelector(".f-carousel__toolbar [data-autoplay-action]")||t}},Fullscreen:{el:u},Toolbar:{absolute:!0,display:{left:["counter"],right:["toggleFull","autoplay","fullscreen","thumbs","close"]}},Video:{autoplay:!0},Thumbs:{minCount:2,Carousel:{classes:{container:"fancybox__thumbs"}}},classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",slide:"fancybox__slide"},spinnerTpl:'<div class="f-spinner" data-fancybox-close></div>',dragFree:!1,slidesPerPage:1,plugins:{Sync:Ie,Arrows:Fe,Lazyload:ke,Zoomable:ze,Html:Ve,Video:je,Autoplay:_e,Fullscreen:Ne,Thumbs:He,Toolbar:De}},b("Carousel")||{},{slides:v,enabled:!0,initialPage:b("startIndex")||0,l10n:b("l10n")}),w("initCarousel",c=Re(f,n)),c.on("*",(e,t,...n)=>{w("Carousel."+t,e,...n)}),c?.on("addSlide",_),c.on("attachSlideEl",H),c.on("detachSlideEl",V),c.on("contentReady",W),c.on("ready",q),c.on("change",N),c.on("settle",$),c.on("thumbs:ready",M),c.on("thumbs:destroy",M),c.init()),d&&u){if(b("closeExisting"))for(var[s,l]of te.entries())s!==m&&l.close();b("fadeEffect")?(setTimeout(()=>{x()},500),be(u,"is-revealing")):x(),u.classList.add("is-ready"),g=Q.Ready,w("ready")}}return F},isCurrentSlide:function(e){var t=T();return!!e&&!!t&&t.index===e.index},isTopMost:S,off:function(e,t){return r.has(e)&&r.set(e,r.get(e).filter(e=>e!==t)),F},on:function(e,t){return r.set(e,[...r.get(e)||[],t]),F},toggleIdle(e){!n&&!0!==e||A(),n&&!1!==e||z()}};return F})().init(e,t)},unbind:function(e,t){let n=document.body,o="";if(pe(e)?o=e:e instanceof Element&&(n=e,pe(t)&&(o=t)),n){let e=ne.openers.get(n);e&&o&&e.delete(o),e?.size&&o||ne.openers.delete(n),n.removeEventListener("click",ne.fromEvent)}}};e.Arrows=Fe,e.Autoplay=_e,e.Carousel=Re,e.CarouselSlideContentState=Y,e.CarouselState=Se,e.Fancybox=ne,e.FancyboxState=Q,e.Fullscreen=Ne,e.Html=Ve,e.Lazyload=ke,e.PANZOOM_DEFAULT_POS=K,e.Panzoom=u,e.PanzoomAction=U,e.PanzoomState=J,e.PanzoomZoomLevel=l,e.Sync=Ie,e.Thumbs=He,e.Toolbar=De,e.ToolbarColumn=b,e.Video=je,e.Zoomable=ze});